PJS={page:{},stat:{},http:{},storage:{},location:{},account:{},device:{},ui:{}};var urlUtil=require("yc_common:static/util/url");!function(){function t(t,e){if(!t||1!==t.nodeType)return!1;var i,o,n=t.webkitMatchesSelector||t.matchesSelector;return n?o=n.call(t,e):(i=t.parentNode,o=!!i.querySelector(e)),o}function e(t,e,i){var o={};o=JSON.parse(e);var n=t,s=i;PJS&&PJS.page.start(n,o,s)}function i(i){if(null==a)a=(new Date).getTime();else{var r=(new Date).getTime();if(500>r-a)return void(a=r);a=r}setTimeout(function(){for(var r=i.target,a=r,c="[data-url]";a!==document.body;){if(t(a,c)){var l=a.getAttribute(n),h=a.getAttribute(s),d=a.getAttribute(o);return i.stopPropagation(),i.preventDefault(),void e(d,l,h)}if(!a||!a.parentNode)break;a=a.parentNode}},50)}var o="data-url",n="bn-data",s="bn-target",r=document.getElementById("main"),a=null;document.addEventListener("touchstart",function(){},!0),r.addEventListener("click",i,!0)}(),PJS.page=PJS.page||{},PJS.page.getData=function(t){var e=window.location.href,i=e.indexOf("?")>0?e.split("?")[1]:"";i=i.split("#")[0];var o=urlUtil.urlToJSON(i)||{};t&&"function"==typeof t&&t(o)},function(t){PJS.page.getData(function(e){var i=e.client,o=e.channel,n=e.subChannel||e.sub_channel,s=e.module,r=e.srcClient||e.src_client,a=e.sfrom,c=e.nb,l=e.nl,h=e.lnb;i&&(t.yc_client=i),o&&(t.yc_channel=o),n&&(t.yc_sub_channel=n),s&&(t.yc_module=s),r&&(t.yc_src_client=r),a&&(t.yc_sfrom=a),c&&(t.yc_nb=c),l&&(t.yc_nl=l),h&&(t.yc_lnb=h)})}(window),PJS.page.start=function(t,e,i){e=e||{};var o=parseInt(i),n=window.yc_channel,s=window.yc_sub_channel,r=window.yc_module,a=window.src_client,c=window.yc_sfrom,l=e.ifEncode;delete e.ifEncode;var h=window.yc_nb,d=window.yc_nl,u=window.yc_lnb;n&&!e.channel&&(e.channel=n),s&&!e.sub_channel&&(e.subChannel=s),r&&!e.module&&(e.module=r),a&&!e.src_client&&(e.srcClient=a),c&&!e.sfrom&&(e.sfrom=c),h&&!e.nb&&(e.nb=h),d&&!e.nl&&(e.nl=d),u&&!e.lnb&&(e.lnb=u);var p=urlUtil.jsonToQuery(e);if(p&&(p=l?(t.indexOf("%3F")>0?"%26":"%3F")+encodeURIComponent(p):(t.indexOf("?")>0?"&":"?")+p,t+=p),0===parseInt(o))window.open(t);else if(2==o){for(var f=window;top!=f;)f=f.parent;f.location.href=t}else window.location.href=t},PJS.page.back=function(){setTimeout(function(){window.history.go(-1)},100)},PJS.page.onMessage=function(){},PJS.page.startPay=function(){},PJS.page.startBind=function(t){var e=t||document.location.href;e.indexOf("http://")<0&&(e="http://"+e);var i="/yanchu/user/bindmobile?v=1&backUrl="+encodeURIComponent(e);PJS.page.start(i)},PJS.page.onBtnBackClick=function(t){var e="un-back";history.replaceState(e,null,location.href),history.pushState({},null,location.href),window.onpopstate=function(i){i.state==e&&t.callback()}},PJS.page.reShow=function(){},PJS.stat=PJS.stat||{},PJS.stat.addStat=function(t){function e(t,e){if(!t||1!==t.nodeType)return!1;var i,o,n=t.webkitMatchesSelector||t.matchesSelector;return n?o=n.call(t,e):(i=t.parentNode,o=!!i.querySelector(e)),o}function i(t){if(!t)return"";var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(e+"="+encodeURIComponent(t[e]));return i.join("&")}function o(e,n){var s,r,a,c,l,h,d=n||function(){},u=t.isHttps?"https://gsp0.baidu.com/80MWsjip0QIZ8tyhnq/":"http://map.baidu.com/",p="//ycstat.baidu.com/collect/client/transparent.gif";u+="mobile/img/transparent.gif?newmap=1";var f=t.yc_channel||"nuomi",m=t.yc_sub_channel||"",g=t.yc_module||"",v=t.yc_client||"webapp",y=t.yc_src_client||"",S=t.yc_sfrom||"";s=$.extend({resid:31,da_ver:"1.0",da_trd:"webapp",da_thirdpar:t.yc_sub_channel||"",da_act:e.da_act||"click",mobile:$.os.android?"android":"phone"},e||{}),r=i(s),c=$.extend(e||{},{cuid:"",bid:"yc",da_client:v,da_src_client:y,da_channel:f,da_sub_channel:m,da_module:g,da_sfrom:S,da_abtest:"",da_os:$.os.android?"android":"iphone",da_os_version:$.os.version||"",location_x:"",location_y:"",da_gps:"",city_id:"",extra:"",da_act:e.da_act||"click"}),a=i(c),l=function(t){if(t&&t.img){var e=t.img,i=t.imgNew,n=t.opt,s=t.optNew;o._sending=!0,$imgNew[0].src=i+s,$img[0].src=e+n,setTimeout(function(){o._sending=!1,h()},10),d()}},h=function(){var t=o._reqQueue.shift();t&&l(t)},o._sending?o._reqQueue.push({img:u,imgNew:p,opt:"&t="+Date.now()+"&"+r,optNew:"?t="+Date.now()+"&"+a}):l({img:u,imgNew:p,opt:"&t="+Date.now()+"&"+r,optNew:"?t="+Date.now()+"&"+a})}function n(){$("#main").append('<img id="statImg" style="display:none"/>'),$("#main").append('<img id="statImgNew" style="display:none"/>'),$("#main").on("click","[data-log]",function(t){for(var i,n,s=t.target,r=s,a="[data-log]",c={};r!==document.body;){if(e(r,a)){if(i=r.getAttribute("data-log"),"string"==typeof i)try{i=i.replace(/[{}"']/g,"").split(","),$.each(i,function(t,e){n=e.split(":"),c[$.trim(n[0])]=$.trim(n[1])}),o(c)}catch(t){}return t.stopPropagation(),void t.preventDefault()}r=r.parentNode}})}return o._reqQueue=[],n(),$img=$("#statImg"),$imgNew=$("#statImgNew"),o}(window),PJS.http=PJS.http||{},window.md5=function(){function t(t){return h(e(l(t),t.length*u))}function e(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var i=1732584193,c=-271733879,l=-1732584194,h=271733878,d=0;d<t.length;d+=16){var u=i,p=c,f=l,m=h;i=o(i,c,l,h,t[d+0],7,-680876936),h=o(h,i,c,l,t[d+1],12,-389564586),l=o(l,h,i,c,t[d+2],17,606105819),c=o(c,l,h,i,t[d+3],22,-1044525330),i=o(i,c,l,h,t[d+4],7,-176418897),h=o(h,i,c,l,t[d+5],12,1200080426),l=o(l,h,i,c,t[d+6],17,-1473231341),c=o(c,l,h,i,t[d+7],22,-45705983),i=o(i,c,l,h,t[d+8],7,1770035416),h=o(h,i,c,l,t[d+9],12,-1958414417),l=o(l,h,i,c,t[d+10],17,-42063),c=o(c,l,h,i,t[d+11],22,-1990404162),i=o(i,c,l,h,t[d+12],7,1804603682),h=o(h,i,c,l,t[d+13],12,-40341101),l=o(l,h,i,c,t[d+14],17,-1502002290),c=o(c,l,h,i,t[d+15],22,1236535329),i=n(i,c,l,h,t[d+1],5,-165796510),h=n(h,i,c,l,t[d+6],9,-1069501632),l=n(l,h,i,c,t[d+11],14,643717713),c=n(c,l,h,i,t[d+0],20,-373897302),i=n(i,c,l,h,t[d+5],5,-701558691),h=n(h,i,c,l,t[d+10],9,38016083),l=n(l,h,i,c,t[d+15],14,-660478335),c=n(c,l,h,i,t[d+4],20,-405537848),i=n(i,c,l,h,t[d+9],5,568446438),h=n(h,i,c,l,t[d+14],9,-1019803690),l=n(l,h,i,c,t[d+3],14,-187363961),c=n(c,l,h,i,t[d+8],20,1163531501),i=n(i,c,l,h,t[d+13],5,-1444681467),h=n(h,i,c,l,t[d+2],9,-51403784),l=n(l,h,i,c,t[d+7],14,1735328473),c=n(c,l,h,i,t[d+12],20,-1926607734),i=s(i,c,l,h,t[d+5],4,-378558),h=s(h,i,c,l,t[d+8],11,-2022574463),l=s(l,h,i,c,t[d+11],16,1839030562),c=s(c,l,h,i,t[d+14],23,-35309556),i=s(i,c,l,h,t[d+1],4,-1530992060),h=s(h,i,c,l,t[d+4],11,1272893353),l=s(l,h,i,c,t[d+7],16,-155497632),c=s(c,l,h,i,t[d+10],23,-1094730640),i=s(i,c,l,h,t[d+13],4,681279174),h=s(h,i,c,l,t[d+0],11,-358537222),l=s(l,h,i,c,t[d+3],16,-722521979),c=s(c,l,h,i,t[d+6],23,76029189),i=s(i,c,l,h,t[d+9],4,-640364487),h=s(h,i,c,l,t[d+12],11,-421815835),l=s(l,h,i,c,t[d+15],16,530742520),c=s(c,l,h,i,t[d+2],23,-995338651),i=r(i,c,l,h,t[d+0],6,-198630844),h=r(h,i,c,l,t[d+7],10,1126891415),l=r(l,h,i,c,t[d+14],15,-1416354905),c=r(c,l,h,i,t[d+5],21,-57434055),i=r(i,c,l,h,t[d+12],6,1700485571),h=r(h,i,c,l,t[d+3],10,-1894986606),l=r(l,h,i,c,t[d+10],15,-1051523),c=r(c,l,h,i,t[d+1],21,-2054922799),i=r(i,c,l,h,t[d+8],6,1873313359),h=r(h,i,c,l,t[d+15],10,-30611744),l=r(l,h,i,c,t[d+6],15,-1560198380),c=r(c,l,h,i,t[d+13],21,1309151649),i=r(i,c,l,h,t[d+4],6,-145523070),h=r(h,i,c,l,t[d+11],10,-1120210379),l=r(l,h,i,c,t[d+2],15,718787259),c=r(c,l,h,i,t[d+9],21,-343485551),i=a(i,u),c=a(c,p),l=a(l,f),h=a(h,m)}return Array(i,c,l,h)}function i(t,e,i,o,n,s){return a(c(a(a(e,t),a(o,s)),n),i)}function o(t,e,o,n,s,r,a){return i(e&o|~e&n,t,e,s,r,a)}function n(t,e,o,n,s,r,a){return i(e&n|o&~n,t,e,s,r,a)}function s(t,e,o,n,s,r,a){return i(e^o^n,t,e,s,r,a)}function r(t,e,o,n,s,r,a){return i(o^(e|~n),t,e,s,r,a)}function a(t,e){var i=(65535&t)+(65535&e),o=(t>>16)+(e>>16)+(i>>16);return o<<16|65535&i}function c(t,e){return t<<e|t>>>32-e}function l(t){for(var e=Array(),i=(1<<u)-1,o=0;o<t.length*u;o+=u)e[o>>5]|=(t.charCodeAt(o/u)&i)<<o%32;return e}function h(t){for(var e=d?"0123456789ABCDEF":"0123456789abcdef",i="",o=0;o<4*t.length;o++)i+=e.charAt(t[o>>2]>>o%4*8+4&15)+e.charAt(t[o>>2]>>o%4*8&15);return i}var d=0,u=8;return t}(window),PJS.http.piaoajax=function(t){var e={},i={},o="3e25960a79dbc69b674cd4ec67a72c62",n=window.yc_channel||"nuomi",s=window.yc_sub_channel||"",r=window.yc_module||"",a=window.yc_client||"webapp",c=window.yc_src_client||"",l=window.yc_sfrom||"";i={cuid:"",channel:n,client:a,module:r,subChannel:s,sfrom:l,srcClient:c,osName:PJS.device.name,osVersion:PJS.device.os,v:"1.0"},t.data&&(i=$.extend(i,t.data)),e.get="",-1!=t.url.indexOf("?")&&(e.get=t.url.substr(t.url.indexOf("?")+1)),e.post=JSON.stringify(i),i.commonData=encodeURIComponent(e.get+e.post),e.commonSign=i.commonData+o,i.commonSign=md5(e.commonSign),$.ajax({url:t.url,type:t.type,dataType:t.dataType||"json",data:i,success:t.success,error:t.error||function(){PJS.ui.toast.show({text:"网络错误，请重试！"})}})},PJS.get=function(t,e,i){var o={url:t,dataType:"json",type:"GET",data:e,success:function(){i()}};PJS.http.piaoajax(o)},PJS.post=function(t,e,i){var o={url:t,dataType:"json",type:"POST",data:e,success:function(){i()}};PJS.http.piaoajax(o)},PJS.storage=PJS.storage||{},PJS.storage.addData=function(t,e,i){i=i||{};var o=i.success,n=i.fail;if(window.localStorage){var s=window.localStorage,r="object"==typeof e?JSON.stringify(e):e;s[t]=r,o&&"function"==typeof o&&o()}else console.log("浏览器不支持localStorage"),n&&"function"==typeof n&&n({error:"浏览器不支持localStorage"})},PJS.storage.getData=function(t,e){e=e||{};var i=e.success,o=e.fail;if(window.localStorage){var n=window.localStorage,s=n[t]||"";try{var r=JSON.parse(s)}catch(a){var r=s}i&&"function"==typeof i&&i(r)}else console.log(window.localStorage?"localStorage error happen::"+t:"浏览器不支持localStorage"),o&&"function"==typeof o&&o({error:"浏览器不支持localStorage"})},PJS.storage.deleteData=function(t,e){e=e||{};var i=e.success,o=e.fail;if(window.localStorage){var n=window.localStorage;try{delete n[t],i&&"function"==typeof i&&i()}catch(s){o&&"function"==typeof o&&o(s)}}},!function(t){function e(t,e,i){(t||"").split(c).forEach(function(t){i(t,e)})}function i(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function n(t,e,n,s){var r,a;return a=o(e),a.ns&&(r=i(a.ns)),t.filter(function(t){return!(!t||a.e&&t.e!==a.e||a.ns&&!r.test(t.ns)||n&&t.cb!==n&&t.cb._cb!==n||s&&t.ctx!==s)})}function s(t,e){var i;for(i in e)e.hasOwnProperty(i)&&("object"==typeof e[i]?(t[i]={},t[i]=s(t[i],e[i])):t[i]=e[i]);return t}function r(t,e){return this instanceof r?(e&&s(this,e),this.type=t,this):new r(t,e)}var a=[].slice,c=/\s+/,l=function(){return!1},h=function(){return!0};r.prototype={isDefaultPrevented:l,isPropagationStopped:l,preventDefault:function(){this.isDefaultPrevented=h},stopPropagation:function(){this.isPropagationStopped=h}},t.listener={on:function(t,i,n){var s,r=this;return i?(s=this._events||(this._events=[]),e(t,i,function(t,e){var i=o(t);i.cb=e,i.ctx=n,i.ctx2=n||r,i.id=s.length,s.push(i)}),this):this},one:function(t,i,o){var n=this;return i?(e(t,i,function(t,e){var i=function(){return n.off(t,i),e.apply(o||n,arguments)};i._cb=e,n.on(t,i,o)}),this):this},off:function(t,i,o){var s=this._events;return s?t||i||o?(e(t,i,function(t,e){n(s,t,e,o).forEach(function(t){delete s[t.id]})}),this):(this._events=[],this):this},trigger:function(t){var e,i,o,s,c,l=-1;if(!this._events||!t)return this;if("string"==typeof t&&(t=new r(t)),e=a.call(arguments,1),t.args=e,e.unshift(t),i=n(this._events,t.type))for(s=i.length;++l<s;)if((o=t.isPropagationStopped())||!1===(c=i[l]).cb.apply(c.ctx2,e)){o||(t.stopPropagation(),t.preventDefault());break}return this},Event:r}}(window),PJS.location=PJS.location||{},PJS.location.location=require("yc_common:static/util/geolocation/location"),PJS.location.cookie=require("yc_common:static/util/cookie/cookie"),PJS.location.options=[],PJS.location.savePosition=function(t){PJS.location.cookie.set("PIAOIPLOC",t,{path:"/",expires:6e4})},PJS.location.getPosition=function(){var t=PJS.location.cookie.get("PIAOIPLOC");return JSON.parse(t)},PJS.location.getLocation=function(t){function e(t,e){PJS.location.isLocating=!1;for(var i,o,s=n.length,r=0;s>r;r++){if(i=n[r],!i)return;i.status||(i.status=!0,o=i[t],o&&"function"==typeof o&&o(e))}n=[]}var i="/yanchu/info/IpLocation",o=(t.success,t.fail,PJS.location.getPosition(),{}),n=PJS.location.options;n.push(t),PJS.location.isLocating||(PJS.location.isLocating=!0,PJS.http.piaoajax({url:i,type:"GET",dataType:"json",success:function(t){if(t&&t.data){var i=t.data,n=i.content||{},s=n.address_detail||{};o.addr={address:n.address},o.cityCode=s.city_code,o.cityName=s.city,o.nuomiCityCode=i.nuomi_city_id,t=o,PJS.location.savePosition(t),e("success",t)}},error:function(){e("fail")}}))},PJS.location.getPreciseLocation=function(t){var e=PJS.location.location,i={latitude:-1,longitude:-1,cityCode:-1,cityName:"全国",shortCityName:"全国",address:"全国"},o=t.success,n=t.fail;e.startGeo({success:function(t){o&&"function"==typeof o&&o(t)},fail:function(){n&&"function"==typeof n&&n(i)}})},PJS.location.getGeocoding=function(t){function e(e){0==e.status?t.success(e):t.geoFail()}var i="//api.map.baidu.com/geocoder/v2/?ak=OGQ8k3SWXmYXs0KTQrDIDG0V&location="+t.latitude+","+t.longitude+"&coordtype="+t.coordtype+"&output=json&pois=0";$.ajax({url:i,dataType:"jsonp",type:"GET",success:e,error:t.geoFail})},PJS.location.transGeocoding=function(t){function e(e){0==e.status?(t.lng=e.result[0].x||null,t.lat=e.result[0].y||null,t.success(t)):t.geoFail()}var i=t.from||5,o="//api.map.baidu.com/geoconv/v1/?ak=OGQ8k3SWXmYXs0KTQrDIDG0V&from="+i+"&to=6&coords="+t.longitude+","+t.latitude;$.ajax({url:o,dataType:"jsonp",type:"GET",success:e,error:t.geoFail})};var cookie=require("yc_common:static/util/cookie/cookie");PJS.account=PJS.account||{},PJS.account.bduss=cookie.get("BDUSS"),PJS.account.uid="",PJS.account.uName="",PJS.account.isLogin=function(t){var e,i=cookie.get("BDUSS"),o="/yanchu/user/getuserinfo";t&&"function"==typeof t&&PJS.http.piaoajax({url:o,type:"GET",dataType:"json",data:{bduss:i},timeout:7e3,success:function(o){if(o&&o.data&&o.data&&o.data.uid){var n=o.data;e={uName:n.displayname,mobile:n.phone,status:!0,avatar:n.award,uid:n.uid,bduss:n.bduss||i},PJS.account.uName=n.displayname||""}t(e)},error:function(){PJS.ui.toast.show("验证登录失败~")}})},PJS.account.login=function(t){var e=window.isHttps?"https://":"http://",i=t||document.location.href;if("iqiyi"==window.yc_sfrom)var o="http://piao.iqiyi.com/f/h5/v1/partner/login/success?re_baidu="+encodeURIComponent(i);else var o=e+"wappass.baidu.com/passport/login?sms=1&u="+encodeURIComponent(i);window.yc_lnb&&(o+="&adapter=apps"),PJS.page.start(o,{ifEncode:1})},PJS.account.reg=function(t){var e=window.isHttps?"https://":"http://",i=t||location.origin+"/yanchu/webapp/indextpl",o=e+"wappass.baidu.com/passport/reg?u="+encodeURIComponent(i);PJS.page.start(o)},PJS.account.logout=function(t){var e=window.isHttps?"https://":"http://",i=t||location.origin+"/yanchu/webapp/indextpl";window.location.href=e+"wappass.baidu.com/passport/?logout&u="+encodeURIComponent(i)},PJS.device=PJS.device||{},PJS.device.getName=function(){var t="";return $.os.iphone?t="iphone":$.os.ipad?t="ipad":$.os.ipod?t="ipod":$.os.touchpad?t="touchpad":$.os.kindle?t="kindle":$.os.android&&(t="android"),t},PJS.device.name=PJS.device.getName(),PJS.device.isAndroid=function(){return/android/i.test(navigator.userAgent)},PJS.device.isIos=function(){return/iphone|ipad|ipod/i.test(navigator.userAgent)},PJS.device.os=$.os.version,PJS.device.getPlatform=function(){var t="";return $.os.ios?t="ios":$.os.android?t="android":$.os.webos?t="webos":$.os.blackberry&&(t="blackberry"),t},PJS.device.platform=PJS.device.getPlatform(),PJS.device.getBrowser=function(){var t="";return $.browser.chrome?t="chrome":$.browser.firefox?t="firefox":$.browser.safari?t="safari":$.browser.webview&&(t="webview"),t},PJS.device.browser=PJS.device.getBrowser(),PJS.device.browserVersion=$.browser.version,PJS.device.screenHeight="",PJS.device.screenWidth="",!function(t,e,i){function o(t,o){this.wrapper="string"==typeof t?e.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={zoomMin:1,zoomMax:4,startZoom:1,resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var n in o)this.options[n]=o[n];this.translateZ=this.options.HWCompositing&&a.hasPerspective?" translateZ(0)":"",this.options.useTransition=a.hasTransition&&this.options.useTransition,this.options.useTransform=a.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?a.ease[this.options.bounceEasing]||a.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this.scale=i.min(i.max(this.options.startZoom,this.options.zoomMin),this.options.zoomMax),this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function n(t,i,o){var n=e.createElement("div"),s=e.createElement("div");return o===!0&&(n.style.cssText="position:absolute;z-index:9999",s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),s.className="iScrollIndicator","h"==t?(o===!0&&(n.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",s.style.height="100%"),n.className="iScrollHorizontalScrollbar"):(o===!0&&(n.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",s.style.width="100%"),n.className="iScrollVerticalScrollbar"),n.style.cssText+=";overflow:hidden",i||(n.style.pointerEvents="none"),n.appendChild(s),n}function s(i,o){this.wrapper="string"==typeof o.el?e.querySelector(o.el):o.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=i,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var n in o)this.options[n]=o[n];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(a.addEvent(this.indicator,"touchstart",this),a.addEvent(t,"touchend",this)),this.options.disablePointer||(a.addEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.addEvent(t,a.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(a.addEvent(this.indicator,"mousedown",this),a.addEvent(t,"mouseup",this))),this.options.fade&&(this.wrapperStyle[a.style.transform]=this.scroller.translateZ,this.wrapperStyle[a.style.transitionDuration]=a.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var r=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},a=function(){function o(t){return r===!1?!1:""===r?t:r+t.charAt(0).toUpperCase()+t.substr(1)}var n={},s=e.createElement("div").style,r=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],i=0,o=e.length;o>i;i++)if(t=e[i]+"ransform",t in s)return e[i].substr(0,e[i].length-1);return!1}();n.getTime=Date.now||function(){return(new Date).getTime()},n.extend=function(t,e){for(var i in e)t[i]=e[i]},n.addEvent=function(t,e,i,o){t.addEventListener(e,i,!!o)},n.removeEvent=function(t,e,i,o){t.removeEventListener(e,i,!!o)},n.prefixPointerEvent=function(e){return t.MSPointerEvent?"MSPointer"+e.charAt(9).toUpperCase()+e.substr(10):e},n.momentum=function(t,e,o,n,s,r){var a,c,l=t-e,h=i.abs(l)/o;return r=void 0===r?6e-4:r,a=t+h*h/(2*r)*(0>l?-1:1),c=h/r,n>a?(a=s?n-s/2.5*(h/8):n,l=i.abs(a-t),c=l/h):a>0&&(a=s?s/2.5*(h/8):0,l=i.abs(t)+a,c=l/h),{destination:i.round(a),duration:c}};var a=o("transform");return n.extend(n,{hasTransform:a!==!1,hasPerspective:o("perspective")in s,hasTouch:"ontouchstart"in t,hasPointer:t.PointerEvent||t.MSPointerEvent,hasTransition:o("transition")in s}),n.isBadAndroid=/Android /.test(t.navigator.appVersion)&&!/Chrome\/\d/.test(t.navigator.appVersion),n.extend(n.style={},{transform:a,transitionTimingFunction:o("transitionTimingFunction"),transitionDuration:o("transitionDuration"),transitionDelay:o("transitionDelay"),transformOrigin:o("transformOrigin")}),n.hasClass=function(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");return i.test(t.className)},n.addClass=function(t,e){if(!n.hasClass(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}},n.removeClass=function(t,e){if(n.hasClass(t,e)){var i=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(i," ")}},n.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},n.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},n.extend(n.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),n.extend(n.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return i.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,o=.4;return 0===t?0:1==t?1:o*i.pow(2,-10*t)*i.sin(2*(t-e/4)*i.PI/e)+1}}}),n.tap=function(t,i){var o=e.createEvent("Event");o.initEvent(i,!0,!0),o.pageX=t.pageX,o.pageY=t.pageY,t.target.dispatchEvent(o)},n.click=function(t){var i,o=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(o.tagName)||(i=e.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,t.view,1,o.screenX,o.screenY,o.clientX,o.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),i._constructed=!0,o.dispatchEvent(i))},n}();o.prototype={version:"5.1.2",_init:function(){this._initEvents(),this.options.zoom&&this._initZoom(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if(!(1!=a.eventType[t.type]&&0!==t.button||!this.enabled||this.initiated&&a.eventType[t.type]!==this.initiated)){!this.options.preventDefault||a.isBadAndroid||a.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,o=t.touches?t.touches[0]:t;this.initiated=a.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=a.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=o.pageX,this.pointY=o.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,o,n,s,r=t.touches?t.touches[0]:t,c=r.pageX-this.pointX,l=r.pageY-this.pointY,h=a.getTime();if(this.pointX=r.pageX,this.pointY=r.pageY,this.distX+=c,this.distY+=l,n=i.abs(this.distX),s=i.abs(this.distY),!(h-this.endTime>300&&10>n&&10>s)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=n>s+this.options.directionLockThreshold?"h":s>=n+this.options.directionLockThreshold?"v":"n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);c=0}c=this.hasHorizontalScroll?c:0,l=this.hasVerticalScroll?l:0,e=this.x+c,o=this.y+l,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+c/3:e>0?0:this.maxScrollX),(o>0||o<this.maxScrollY)&&(o=this.options.bounce?this.y+l/3:o>0?0:this.maxScrollY),this.directionX=c>0?-1:0>c?1:0,this.directionY=l>0?-1:0>l?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,o),h-this.startTime>300&&(this.startTime=h,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&!a.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,o,n=(t.changedTouches?t.changedTouches[0]:t,a.getTime()-this.startTime),s=i.round(this.x),r=i.round(this.y),c=i.abs(s-this.startX),l=i.abs(r-this.startY),h=0,d="";if(this.isInTransition=0,this.initiated=0,this.endTime=a.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(s,r),!this.moved)return this.options.tap&&a.tap(t,this.options.tap),this.options.click&&a.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&200>n&&100>c&&100>l)return void this._execEvent("flick");if(this.options.momentum&&300>n&&(e=this.hasHorizontalScroll?a.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:s,duration:0},o=this.hasVerticalScroll?a.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:r,duration:0},s=e.destination,r=o.destination,h=i.max(e.duration,o.duration),this.isInTransition=1),this.options.snap){var u=this._nearestSnap(s,r);this.currentPage=u,h=this.options.snapSpeed||i.max(i.max(i.min(i.abs(s-u.x),1e3),i.min(i.abs(r-u.y),1e3)),300),s=u.x,r=u.y,this.directionX=0,this.directionY=0,d=this.options.bounceEasing}return s!=this.x||r!=this.y?((s>0||s<this.maxScrollX||r>0||r<this.maxScrollY)&&(d=a.ease.quadratic),void this.scrollTo(s,r,h,d)):void this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),e==this.x&&i==this.y?!1:(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight,this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=i.round(this.scroller.offsetWidth*this.scale),this.scrollerHeight=i.round(this.scroller.offsetHeight*this.scale),this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=a.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;i>e;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,o){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,o)},scrollTo:function(t,e,i,o){o=o||a.ease.circular,this.isInTransition=this.options.useTransition&&i>0,!i||this.options.useTransition&&o.style?(this._transitionTimingFunction(o.style),this._transitionTime(i),this._translate(t,e)):this._animate(t,e,i,o.fn)},scrollToElement:function(t,e,o,n,s){if(t=t.nodeType?t:this.scroller.querySelector(t)){var r=a.offset(t);r.left-=this.wrapperOffset.left,r.top-=this.wrapperOffset.top,o===!0&&(o=i.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),n===!0&&(n=i.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),r.left-=o||0,r.top-=n||0,r.left=r.left>0?0:r.left<this.maxScrollX?this.maxScrollX:r.left,r.top=r.top>0?0:r.top<this.maxScrollY?this.maxScrollY:r.top,e=void 0===e||null===e||"auto"===e?i.max(i.abs(this.x-r.left),i.abs(this.y-r.top)):e,this.scrollTo(r.left,r.top,e,s)}},_transitionTime:function(t){if(t=t||0,this.scrollerStyle[a.style.transitionDuration]=t+"ms",!t&&a.isBadAndroid&&(this.scrollerStyle[a.style.transitionDuration]="0.001s"),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[a.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[a.style.transform]="translate("+t+"px,"+e+"px) scale("+this.scale+") "+this.translateZ:(t=i.round(t),e=i.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var o=this.indicators.length;o--;)this.indicators[o].updatePosition()},_initEvents:function(e){var i=e?a.removeEvent:a.addEvent,o=this.options.bindToWrapper?this.wrapper:t;i(t,"orientationchange",this),i(t,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(o,"mousemove",this),i(o,"mousecancel",this),i(o,"mouseup",this)),a.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,a.prefixPointerEvent("pointerdown"),this),i(o,a.prefixPointerEvent("pointermove"),this),i(o,a.prefixPointerEvent("pointercancel"),this),i(o,a.prefixPointerEvent("pointerup"),this)),a.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(o,"touchmove",this),i(o,"touchcancel",this),i(o,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,i,o=t.getComputedStyle(this.scroller,null);
return this.options.useTransform?(o=o[a.style.transform].split(")")[0].split(", "),e=+(o[12]||o[4]),i=+(o[13]||o[5])):(e=+o.left.replace(/[^-\d.]/g,""),i=+o.top.replace(/[^-\d.]/g,"")),{x:e,y:i}},_initIndicators:function(){function t(t){for(var e=a.indicators.length;e--;)t.call(a.indicators[e])}var e,i=this.options.interactiveScrollbars,o="string"!=typeof this.options.scrollbars,r=[],a=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:n("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:o,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),r.push(e)),this.options.scrollX&&(e={el:n("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:o,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),r.push(e))),this.options.indicators&&(r=r.concat(this.options.indicators));for(var c=r.length;c--;)this.indicators.push(new s(this,r[c]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initZoom:function(){this.scrollerStyle[a.style.transformOrigin]="0 0"},_zoomStart:function(t){var e=i.abs(t.touches[0].pageX-t.touches[1].pageX),o=i.abs(t.touches[0].pageY-t.touches[1].pageY);this.touchesDistanceStart=i.sqrt(e*e+o*o),this.startScale=this.scale,this.originX=i.abs(t.touches[0].pageX+t.touches[1].pageX)/2+this.wrapperOffset.left-this.x,this.originY=i.abs(t.touches[0].pageY+t.touches[1].pageY)/2+this.wrapperOffset.top-this.y,this._execEvent("zoomStart")},_zoom:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,o,n,s=i.abs(t.touches[0].pageX-t.touches[1].pageX),r=i.abs(t.touches[0].pageY-t.touches[1].pageY),c=i.sqrt(s*s+r*r),l=1/this.touchesDistanceStart*c*this.startScale;this.scaled=!0,l<this.options.zoomMin?l=.5*this.options.zoomMin*i.pow(2,l/this.options.zoomMin):l>this.options.zoomMax&&(l=2*this.options.zoomMax*i.pow(.5,this.options.zoomMax/l)),e=l/this.startScale,o=this.originX-this.originX*e+this.startX,n=this.originY-this.originY*e+this.startY,this.scale=l,this.scrollTo(o,n,0)}},_zoomEnd:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,i,o;this.isInTransition=0,this.initiated=0,this.scale>this.options.zoomMax?this.scale=this.options.zoomMax:this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin),this.refresh(),o=this.scale/this.startScale,e=this.originX-this.originX*o+this.startX,i=this.originY-this.originY*o+this.startY,e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),i>0?i=0:i<this.maxScrollY&&(i=this.maxScrollY),(this.x!=e||this.y!=i)&&this.scrollTo(e,i,this.options.bounceTime),this.scaled=!1,this._execEvent("zoomEnd")}},zoom:function(t,e,i,o){if(t<this.options.zoomMin?t=this.options.zoomMin:t>this.options.zoomMax&&(t=this.options.zoomMax),t!=this.scale){var n=t/this.scale;e=void 0===e?this.wrapperWidth/2:e,i=void 0===i?this.wrapperHeight/2:i,o=void 0===o?300:o,e=e+this.wrapperOffset.left-this.x,i=i+this.wrapperOffset.top-this.y,e=e-e*n+this.x,i=i-i*n+this.y,this.scale=t,this.refresh(),e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),i>0?i=0:i<this.maxScrollY&&(i=this.maxScrollY),this.scrollTo(e,i,o)}},_wheelZoom:function(t){var e,o,n=this;if(clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){n._execEvent("zoomEnd")},400),"deltaX"in t)e=-t.deltaY/i.abs(t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaY/i.abs(t.wheelDeltaY);else if("wheelDelta"in t)e=t.wheelDelta/i.abs(t.wheelDelta);else{if(!("detail"in t))return;e=-t.detail/i.abs(t.wheelDelta)}o=this.scale+e/5,this.zoom(o,t.pageX,t.pageY,0)},_initWheel:function(){a.addEvent(this.wrapper,"wheel",this),a.addEvent(this.wrapper,"mousewheel",this),a.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){a.removeEvent(this.wrapper,"wheel",this),a.removeEvent(this.wrapper,"mousewheel",this),a.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var e,o,n,s,r=this;if(void 0===this.wheelTimeout&&r._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){r._execEvent("scrollEnd"),r.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,o=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,o=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,o=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=o=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=o=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,o*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=o,o=0),this.options.snap)return n=this.currentPage.pageX,s=this.currentPage.pageY,e>0?n--:0>e&&n++,o>0?s--:0>o&&s++,void this.goToPage(n,s);n=this.x+i.round(this.hasHorizontalScroll?e:0),s=this.y+i.round(this.hasVerticalScroll?o:0),n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),s>0?s=0:s<this.maxScrollY&&(s=this.maxScrollY),this.scrollTo(n,s,0),this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,o,n,s,r,a=0,c=0,l=0,h=this.options.snapStepX||this.wrapperWidth,d=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(o=i.round(h/2),n=i.round(d/2);l>-this.scrollerWidth;){for(this.pages[a]=[],t=0,s=0;s>-this.scrollerHeight;)this.pages[a][t]={x:i.max(l,this.maxScrollX),y:i.max(s,this.maxScrollY),width:h,height:d,cx:l-o,cy:s-n},s-=d,t++;l-=h,a++}else for(r=this.options.snap,t=r.length,e=-1;t>a;a++)(0===a||r[a].offsetLeft<=r[a-1].offsetLeft)&&(c=0,e++),this.pages[c]||(this.pages[c]=[]),l=i.max(-r[a].offsetLeft,this.maxScrollX),s=i.max(-r[a].offsetTop,this.maxScrollY),o=l-i.round(r[a].offsetWidth/2),n=s-i.round(r[a].offsetHeight/2),this.pages[c][e]={x:l,y:s,width:r[a].offsetWidth,height:r[a].offsetHeight,cx:o,cy:n},l>this.maxScrollX&&c++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var o=0,n=this.pages.length,s=0;if(i.abs(t-this.absStartX)<this.snapThresholdX&&i.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);n>o;o++)if(t>=this.pages[o][0].cx){t=this.pages[o][0].x;break}for(n=this.pages[o].length;n>s;s++)if(e>=this.pages[0][s].cy){e=this.pages[0][s].y;break}return o==this.currentPage.pageX&&(o+=this.directionX,0>o?o=0:o>=this.pages.length&&(o=this.pages.length-1),t=this.pages[o][0].x),s==this.currentPage.pageY&&(s+=this.directionY,0>s?s=0:s>=this.pages[0].length&&(s=this.pages[0].length-1),e=this.pages[0][s].y),{x:t,y:e,pageX:o,pageY:s}},goToPage:function(t,e,o,n){n=n||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:0>t&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:0>e&&(e=0);var s=this.pages[t][e].x,r=this.pages[t][e].y;o=void 0===o?this.options.snapSpeed||i.max(i.max(i.min(i.abs(s-this.x),1e3),i.min(i.abs(r-this.y),1e3)),300):o,this.currentPage={x:s,y:r,pageX:t,pageY:e},this.scrollTo(s,r,o,n)},next:function(t,e){var i=this.currentPage.pageX,o=this.currentPage.pageY;i++,i>=this.pages.length&&this.hasVerticalScroll&&(i=0,o++),this.goToPage(i,o,t,e)},prev:function(t,e){var i=this.currentPage.pageX,o=this.currentPage.pageY;i--,0>i&&this.hasVerticalScroll&&(i=0,o--),this.goToPage(i,o,t,e)},_initKeys:function(){var e,i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(e in this.options.keyBindings)"string"==typeof this.options.keyBindings[e]&&(this.options.keyBindings[e]=this.options.keyBindings[e].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(e in i)this.options.keyBindings[e]=this.options.keyBindings[e]||i[e];a.addEvent(t,"keydown",this),this.on("destroy",function(){a.removeEvent(t,"keydown",this)})},_key:function(t){if(this.enabled){var e,o=this.options.snap,n=o?this.currentPage.pageX:this.x,s=o?this.currentPage.pageY:this.y,r=a.getTime(),c=this.keyTime||0,l=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1),this.keyAcceleration=200>r-c?i.min(this.keyAcceleration+l,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?n+=o?1:this.wrapperWidth:s+=o?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?n-=o?1:this.wrapperWidth:s-=o?1:this.wrapperHeight;break;case this.options.keyBindings.end:n=o?this.pages.length-1:this.maxScrollX,s=o?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:n=0,s=0;break;case this.options.keyBindings.left:n+=o?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:s+=o?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:n-=o?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:s-=o?1:5+this.keyAcceleration>>0;break;default:return}if(o)return void this.goToPage(n,s);n>0?(n=0,this.keyAcceleration=0):n<this.maxScrollX&&(n=this.maxScrollX,this.keyAcceleration=0),s>0?(s=0,this.keyAcceleration=0):s<this.maxScrollY&&(s=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(n,s,0),this.keyTime=r}},_animate:function(t,e,i,o){function n(){var u,p,f,m=a.getTime();return m>=d?(s.isAnimating=!1,s._translate(t,e),void(s.resetPosition(s.options.bounceTime)||s._execEvent("scrollEnd"))):(m=(m-h)/i,f=o(m),u=(t-c)*f+c,p=(e-l)*f+l,s._translate(u,p),s.isAnimating&&r(n),void(3==s.options.probeType&&s._execEvent("scroll")))}var s=this,c=this.x,l=this.y,h=a.getTime(),d=h+i;this.isAnimating=!0,n()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t),this.options.zoom&&t.touches&&t.touches.length>1&&this._zoomStart(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":if(this.options.zoom&&t.touches&&t.touches[1])return void this._zoom(t);this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":if(this.scaled)return void this._zoomEnd(t);this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":if("zoom"==this.options.wheelAction)return void this._wheelZoom(t);this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},s.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.interactive&&(a.removeEvent(this.indicator,"touchstart",this),a.removeEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.removeEvent(this.indicator,"mousedown",this),a.removeEvent(t,"touchmove",this),a.removeEvent(t,a.prefixPointerEvent("pointermove"),this),a.removeEvent(t,"mousemove",this),a.removeEvent(t,"touchend",this),a.removeEvent(t,a.prefixPointerEvent("pointerup"),this),a.removeEvent(t,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var i=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=a.getTime(),this.options.disableTouch||a.addEvent(t,"touchmove",this),this.options.disablePointer||a.addEvent(t,a.prefixPointerEvent("pointermove"),this),this.options.disableMouse||a.addEvent(t,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,i,o,n,s=t.touches?t.touches[0]:t,r=a.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=s.pageX-this.lastPointX,this.lastPointX=s.pageX,i=s.pageY-this.lastPointY,this.lastPointY=s.pageY,o=this.x+e,n=this.y+i,this._pos(o,n),1==this.scroller.options.probeType&&r-this.startTime>300?(this.startTime=r,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),t.preventDefault(),t.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),a.removeEvent(t,"touchmove",this),a.removeEvent(t,a.prefixPointerEvent("pointermove"),this),a.removeEvent(t,"mousemove",this),this.scroller.options.snap){var o=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),n=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-o.x),1e3),i.min(i.abs(this.scroller.y-o.y),1e3)),300);(this.scroller.x!=o.x||this.scroller.y!=o.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=o,this.scroller.scrollTo(o.x,o.y,n,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0,this.indicatorStyle[a.style.transitionDuration]=t+"ms",!t&&a.isBadAndroid&&(this.indicatorStyle[a.style.transitionDuration]="0.001s")},transitionTimingFunction:function(t){this.indicatorStyle[a.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(a.addClass(this.wrapper,"iScrollBothScrollbars"),a.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(a.removeClass(this.wrapper,"iScrollBothScrollbars"),a.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),this.wrapper.offsetHeight,this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&i.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=i.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=i.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=i.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=i.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[a.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){0>t?t=0:t>this.maxPosX&&(t=this.maxPosX),0>e?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?i.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?i.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,o=t?0:300;t=t?"1":"0",this.wrapperStyle[a.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),o)}}},o.utils=a,"undefined"!=typeof module&&module.exports?module.exports=o:t.IScroll=o}(window,document,Math),function(t){t.jsmod={version:"0.1.2"},t.jsmod.ui={},t.jsmod.util={},t.jsmod.detector={},t.jsmod.style={}}(window),function(t){t.jsmod.style["jsmod.ui.IOSDialog"]={ELEMENT:{"background-color":"#f6f6f6","border-radius":"5px",padding:"10px 0 0 0"},TITLE:{color:"#000000","text-align":"center","font-size":"14px","font-weight":"bold",padding:"0 10px 5px 10px"},CONTENT:{color:"#000000","text-align":"center","font-size":"12px","line-height":"1.6em",padding:"0 10px","max-Height":"200px"}}}(window),function(t){t.jsmod.style["jsmod.ui.Confirm"]={FOOTER:{color:"#0d72de","font-size":"15px","font-weight":"bold","line-height":"2.5em","text-align":"center","border-top":"1px solid #c1c1c1",display:"-webkit-box"},BUTTON:{"-webkit-box-flex":"1","text-align":"center",width:"0",display:"block"},BUTTON_NO:{"border-right":"1px solid #c1c1c1",color:"#0d72de","text-decoration":"none"},BUTTON_OK:{color:"#0d72de","text-decoration":"none"}}}(window),function(t){t.jsmod.style["jsmod.ui.Alert"]={FOOTER:{color:"#0d72de","font-size":"14px","font-weight":"bold","line-height":"2.5em","text-align":"center","border-top":"1px solid #c1c1c1"}}}(window),function(t){t.jsmod.style["jsmod.ui.Toast"]={ELEMENT:{"background-color":"rgba(51, 51, 51, 0.85)",color:"#f6f6f6","border-radius":"5px","font-size":"12px","line-height":"1.6em",padding:"5px"}}}(window),function(t){t.jsmod.style["jsmod.ui.Banner"]={BOTTOM_BAR:{position:"absolute",padding:"5px;",bottom:0,left:0,right:0,"font-size":"12px","line-height":"20px",height:"20px","background-color":"rgba(0, 0, 0, 0.7)",color:"#fff","z-index":"1"},IMAGE:{opacity:0,"-webkit-transition":"opacity 0.3s"}}}(window),function(t){var e=t.jsmod.detector;e.isAnimation=function(){return!!$.fx}}(window),function(t){function e(){return!1}function i(){return!0}function o(t,e){this.type=this.name=t,e&&$.extend(this,e)}function n(t){return t._zid||(t._zid=a++)}function s(t,e,i){return(r[n(t)]||[]).filter(function(t){return!(!t||e&&e!=t.name||i&&i!=t.fn)})}var r={},a=1;o.prototype={isDefaultPrevented:e,isPropagationStopped:e,preventDefault:function(){this.isDefaultPrevented=i},stopPropagation:function(){this.isPropagationStopped=i}},t.jsmod.util.EventCreator=o,t.jsmod.util.Event={on:function(t,e,i){var o=n(this),s=r[o]||(r[o]=[]);return i=i||this,s.push({fn:e,name:t,i:s.length,context:i}),this},off:function(t,e){var i=n(this);s(this,t,e).forEach(function(t){delete r[i][t.i]})},trigger:function(t,e){var i;return n(this),i="object"==typeof t?t:new o(t),t=t&&t.type||t,s(this,t).forEach(function(t){return t.fn.apply(t.context,[i].concat(e))===!1||i.isPropagationStopped&&i.isPropagationStopped()?!1:void 0}),i}}}(window),function(t){function e(t,e){for(key in e)void 0!==e[key]&&(t[key]=e[key])}t.jsmod.util.extend=function(t){var i=[].slice.call(arguments,1);return i.forEach(function(i){e(t,i)}),t}}(window),function(t){function e(t,e){for(var i in t)if(e.call(t[i],i,t[i])===!1)return t;return t}var i=t.jsmod,o=i.util;o.klass=function(t,i,n){var s;return i?s=o.inherit(i,t,n):(s=function(){this.initialize&&this.initialize.apply(this,Array.prototype.slice.call(arguments,0))},e([t].concat(n||[]),function(t,i){e("function"==typeof i?i.prototype:i,function(e,i){"function"==typeof i&&(0==t||0!=t&&"initialize"!=e)&&(s.prototype[e]=i)})})),s},o.inherit=function(t,i,o){var n,s=function(){};return s.prototype=t.prototype,n=function(){this.initialize&&this.initialize.apply(this,Array.prototype.slice.call(arguments,0))},n.prototype=new s,n.prototype.constructor=n,e([i].concat(o||[]),function(t,i){e("function"==typeof i?i.prototype:i,function(e,i){"function"==typeof i&&(0==t||0!=t&&"initialize"!=e)&&(n.prototype[e]=i)})}),n}}(window),function(t){var e,i=document,o={offset:50,isFade:!0,isLoop:!1},n=[];e=t.jsmod.util.lazy={start:function(t){$.extend(o,t),o.isFade=jsmod.detector.isAnimation()?o.isFade:!1,!this.isStart()&&this._start()},stop:function(){this._isStart=!1,this._setLoopTimer&&clearTimeout(this._setLoopTimer),this._observerIns&&this._observerIns.disconnect(),$(t).off("scroll.lazy").off("resize.lazy")},clear:function(){n=[]},isStart:function(){return!!this._isStart},add:function(t){this._checkVisible(t)?this._show(t):-1===$.inArray(t,n)&&(t._lazyIndex=n.length,n.push(t))},getBase64:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA1JREFUeNoBAgD9/wAAAAIAAVMrnDAAAAAASUVORK5CYII="},_start:function(){var e=this,i=this._getCheckFun(this._loopElement),n=function(t){e._setLoopTimer=setTimeout(function(){t(),n(t)},30)};this._isStart=!0,$(t).on("scroll.lazy",i).on("resize.lazy",i),"function"==typeof window.MutationObserver?this._observer(i):o.isLoop&&n(i)},_loopElement:function(){var t=this;$.each(n,function(e,i){i&&t._checkVisible(i)&&(t._show(i),delete n[i._lazyIndex])})},_show:function(t){var e=$(t);o.isFade&&"1"!=e.attr("lazyed")&&e.one("load",function(){e.animate({opacity:1})}).css("opacity",0),e.prop("src",e.data("src")).attr("lazyed","1")},_checkVisible:function(t){var e,n,s,r,a={width:o.offset,height:o.offset};return a.width+=i.documentElement.clientWidth,a.height+=i.documentElement.clientHeight,n=t.getBoundingClientRect(),e={bottom:i.body.scrollHeight,top:0,left:0,right:i.body.scrollWidth},s={left:n.left,top:n.top},r=!(n.right<e.left||n.left>e.right||n.bottom<e.top||n.top>e.bottom)&&s.top<=a.height&&s.left<=a.width},_observer:function(t){function e(){setTimeout(t,10)}var o=new MutationObserver(e);Array.prototype.filter,this._observerIns=o,o.observe(i.body,{childList:!0,subtree:!0})},_getCheckFun:function(t){var e,i=this;return function(){var o=arguments;clearTimeout(e),e=setTimeout(function(){e=null,t.apply(i,o)},30)}}}}(window),function(t){var e,i=10;t.jsmod.util.merge={merge:function(t,o,n,s){return t=n?this.merge({},t,void 0,s):t,e=s||i,this._merge(t,o,0),t},_merge:function(t,i,o){for(var n in i)t[n]=$.isPlainObject(i[n])&&e>o?this._merge(t[n]||{},i[n],++o):i[n];return t}}}(window),function(t){jsmod.ui.Base=t.jsmod.util.extend({setStyle:function(t){this._style=this._style?this.merge(this._style,t,!0):t||{}},getStyle:function(t,e){var i;return this._style&&(i=this._style[t])?e?(i=$.map(i,function(t,e){return e+":"+t}),i.join(";")):i:null},templateEngine:function(t,e){var i={};return(template=function o(t,e){var n=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):i[t]=i[t]||o(document.getElementById(t).innerHTML);return e?n(e):n})(t,e)}},jsmod.util.Event,t.jsmod.util.merge)}(window),function(){var t;t={isMask:!0,isMaskClickHide:!0,isAutoShow:!1,isIScroll:!1,isAnimation:!0,isScaleAnimation:!1,isScrollAble:!0,isInFixed:!0,maskIndex:900,opacity:.7,animateCount:133,IScrollOption:{mouseWheel:!1,scrollbars:!0}},jsmod.ui.Dialog=jsmod.util.klass({initialize:function(e){var i=this;i.option=$.extend({},t,e),i.resetFrame(),i._callBackStack=[],i._root=i.option.isInFixed?i.createRootEl().appendTo(i._mask):i.createRootEl(),i._element=$(i.option.element?i.option.element:i.option.html),i._root.append(i._element),i.option.isAnimation=jsmod.detector.isAnimation()?i.option.isAnimation:!1,i.maxHeight=i.option.maxHeight||parseInt(.9*$(window).height()),i.maxWidth=i.option.maxWidth||parseInt(.9*$(window).width()),i.setBox(),i.option.isAutoShow&&i.show(),jsmod.ui.Dialog.addInstance(this),jsmod.ui.Dialog.listen()},setBox:function(){var t,e,i=this,o=i.option;t=parseInt(/%$/.test(o.width)?$("body").width()*(parseInt(o.width)/100):o.width),e=parseInt(/%$/.test(o.height)?$(window).height()*(parseInt(o.height)/100):o.height),t>i.maxWidth&&(t=i.maxWidth),e>i.maxHeight&&(e=i.maxHeight),i._root.css({width:t,height:e,"box-sizing":"border-box"}),i._element.css({width:t,height:e,"box-sizing":"border-box"})},createMaskEl:function(){var t='<div class="mod-dialog-frame"style="overflow:auto; display:none; position: fixed; left:0; top: 0; right:0; bottom: 0; z-index: '+(this.option.maskIndex-1)+';"></div>';return $(t)},createRootEl:function(){var t='<div style="overflow:hidden; position: absolute; z-index: '+this.option.maskIndex+';"class="mod-dialog-wrap"></div>';return $(t)},resetFrame:function(){var t=this,e=t.option;t._mask||(t._mask=t.createMaskEl(),e.isMaskClickHide&&t._mask.on("touchstart",function(e){e.target==t._mask.get(0)&&t.hide()})),t._mask.css("background-color","rgba(0, 0, 0,"+e.opacity+")")},show:function(){var t=this;t.isShown()||t.trigger("beforeshow").isDefaultPrevented()||(t._mask.show().appendTo(document.body),t.option.isInFixed||t._root.show().appendTo(document.body),t.createIscroll(),t.adjuestPosition(),t.trigger("shown"),t.option.shownCallback&&t.option.shownCallback.apply(t),t.option.isAnimation&&t._mask.css({opacity:.01,"-webkit-transform":t.option.isScaleAnimation?"scale(1.1)":"scale(1)"}).animate({opacity:1,"-webkit-transform":"scale(1)"},t.option.animateCount,"linear",function(){for(;t._callBackStack.length;)t._callBackStack.shift()()}))},isShown:function(){return this._mask?!("none"==this._mask.css("display")):void 0},resetIScrollHeight:function(){var t,e,i,o,n,s=this;n=s._element.find(".mod-dialog-iscroll-wrap"),n.css("height","auto"),t=o=s._element.height(),s._element.find(".mod-dialog-header-wrap")&&(e=s._element.find(".mod-dialog-header-wrap").height(),o-=e),s._element.find(".mod-dialog-footer-wrap")&&(i=s._element.find(".mod-dialog-footer-wrap").height(),o-=i),n.height(o).css({overflow:"hidden",position:"relative"})},createIscroll:function(){var t=this,e=t.option;e.isIScroll&&this._element.find(".mod-dialog-iscroll-wrap").length&&!this.iscroll?(t.resetIScrollHeight(),this.iscroll=new IScroll(t._element.find(".mod-dialog-iscroll-wrap").get(0),{mouseWheel:!0,scrollbars:!0})):t.iscroll&&(t.resetIScrollHeight(),t.iscroll.refresh())},resetDialog:function(){var t=this;this.iscroll&&this.resetIScrollHeight(),this.adjuestPosition(),this.iscroll&&setTimeout(function(){t.iscroll.refresh()},100)},_createContextBind:function(t,e){return $.proxy(t,e)},hide:function(){var t,e=this;e._mask&&e.isShown()&&(this.trigger("beforehide").isDefaultPrevented()||(t=e._createContextBind(function(){this._mask.css({opacity:"1","-webkit-transform":"scale(1)"}).hide().remove(),this.option.isInFixed||this._root.remove(),this.trigger("hidden"),this.option.hiddenCallback&&this.option.hiddenCallback.apply(this)},this),e._callBackStack.push(t),e.option.isAnimation?e._mask.animate({opacity:0,"-webkit-transform":this.option.isScaleAnimation?"scale(1.1)":"scale(1)"},e.option.animateCount,"linear",function(){for(;e._callBackStack.length;)e._callBackStack.shift()()}):(e._mask.hide().remove(),e.option.isInFixed||e._root.remove(),e.trigger("hidden"),e.option.hiddenCallback&&e.option.hiddenCallback.apply(this))))},adjuestPosition:function(){var t,e,i,o,n,s,r=this,a=r.option.offset||{};t=r._mask.height(),e=r._mask.width(),i=r._root.height(),o=r._root.width(),n=t/2-i/2+(a.top||0),s=e/2-o/2+(a.left||0),n=0>n?0:n,s=0>s?0:s,r.option.isInFixed||(n+=$(window).scrollTop()),r._root.css("top",n),r._root.css("left",s)},getElement:function(){return this._element},destroy:function(){this._mask.remove(),this._mask=null}},null,jsmod.ui.Base),jsmod.ui.Dialog._instances=[],jsmod.ui.Dialog.addInstance=function(t){-1==$.inArray(t,this._instances)&&(t._insI=jsmod.ui.Dialog._instances.length,this._instances.push(t))},jsmod.ui.Dialog.getInstances=function(){return this._instances},jsmod.ui.Dialog.removeAll=function(){this._instances.forEach(function(t){t&&void 0!==t._insI&&(t.destroy(),delete jsmod.ui.Dialog._instances[t._insI])}),this._isListening=!1,this.resizeTimer&&clearTimeout(this.resizeTimer),$(window).off("resize.dialog")},jsmod.ui.Dialog.listen=function(){var t=this;t._isListening||(t._isListening=!0,$(window).on("resize.dialog",function(){t.resizeTimer&&clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){t.getInstances().forEach(function(t){t&&t.isShown()&&t.adjuestPosition()})},300)}))}}(window),function(){var t={isMaskClickHide:!1,opacity:.3,width:"80%",maxWidth:500,isIScroll:!0,align:"left",isAutoShow:!0,title:"",html:""},e='<div class="mod-dialog-header-wrap"></div>',i='<div class="mod-dialog-iscroll-wrap"><div class="mod-dialog-iscroll-wrap-inner"></div></div>',o='<div class="mod-dialog-ios"></div>',n=jsmod.util.klass({initialize:function(e){this.setStyle(e.style?this.merge(jsmod.style["jsmod.ui.IOSDialog"],e.style,!0):jsmod.style["jsmod.ui.IOSDialog"]),e=$.extend({},t,e),this.initDom(e),jsmod.ui.Dialog.prototype.initialize.apply(this,[e]),this._initEvent(e)
},setFooter:function(){throw new Error("需实现setButton")},_initEvent:function(){throw new Error("需实现initEvent")},setOption:function(t){var e=this;t.title&&e._iosDialogTitle.html(t.title),t.html&&e._iosDialogContent.find(".mod-dialog-iscroll-wrap-inner").html(t.html),e.setFooter(t,!0),e.isShown()&&e.resetDialog()},initDom:function(t){var n=this;n._iosDialogElement=t.element=$(o).css(n.getStyle("ELEMENT")),t.title&&(n._iosDialogTitle=$(e).html(t.title).appendTo(n._iosDialogElement).css(n.getStyle("TITLE"))),t.html&&(n._iosDialogContent=$(i).appendTo(n._iosDialogElement).css(n.getStyle("CONTENT")).css("text-align",t.align),n._iosDialogContent.find(".mod-dialog-iscroll-wrap-inner").html(t.html)),n.setFooter(t)},resetPrevent:function(){this._preventHide=!1},preventHide:function(){this._preventHide=!0}},jsmod.ui.Dialog);jsmod.ui.IOSDialog=n}(),function(){var t={buttonOk:"好",buttonNo:"取消",align:"center"},e='<div class="mod-dialog-footer-wrap"><a href="javascript:void(0);" class="mod-dialog-button-no"></a><a href="javascript:void(0);" class="mod-dialog-button-ok"></a></div>',i=jsmod.util.klass({initialize:function(e){this.setStyle(e.style?this.merge(jsmod.style["jsmod.ui.Confirm"],e.style,!0):jsmod.style["jsmod.ui.Confirm"]),e=$.extend({},t,e),jsmod.ui.IOSDialog.prototype.initialize.apply(this,[e])},setFooter:function(t,i){var o=this;i||(o._footerCotnent=$(e).appendTo(o._iosDialogElement).css(o.getStyle("FOOTER")),o._footerCotnent.find(".mod-dialog-button-no, .mod-dialog-button-ok").css(o.getStyle("BUTTON")),o._buttonNo=o._footerCotnent.find(".mod-dialog-button-no").css(o.getStyle("BUTTON_NO")),o._buttonOk=o._footerCotnent.find(".mod-dialog-button-ok").css(o.getStyle("BUTTON_OK"))),t.buttonNo&&o._buttonNo.html(t.buttonNo),t.buttonOk&&o._buttonOk.html(t.buttonOk)},_initEvent:function(){var t=this;t._buttonNo.on("click",function(){t.resetPrevent(),t.option.buttonCallback&&t.option.buttonCallback.apply(t,[0]),t._preventHide||t.hide()}),t._buttonOk.on("click",function(){t.resetPrevent(),t.option.buttonCallback&&t.option.buttonCallback.apply(t,[1]),t._preventHide||t.hide()})}},jsmod.ui.IOSDialog);jsmod.ui.Confirm=i}(),function(){var t={button:"关闭",align:"center"},e='<div class="mod-dialog-footer-wrap"></div>',i=jsmod.util.klass({initialize:function(e){"string"==typeof e&&(e={html:e}),this.setStyle(e.style?this.merge(jsmod.style["jsmod.ui.Alert"],e.style,!0):jsmod.style["jsmod.ui.Alert"]),e=$.extend({},t,e),jsmod.ui.IOSDialog.prototype.initialize.apply(this,[e])},setFooter:function(t,i){var o=this;t.button&&(i?o._alertButton.html(t.button):o._alertButton=$(e).html(t.button).appendTo(o._iosDialogElement).css(this.getStyle("FOOTER")))},_initEvent:function(){var t=this;t._alertButton.on("click",function(){t.resetPrevent(),t.option.buttonCallback&&t.option.buttonCallback.apply(t),t._preventHide||t.hide()})}},jsmod.ui.IOSDialog);jsmod.ui.Alert=i}(),function(){var t={isMaskClickHide:!0,opacity:0,width:"100%",isIScroll:!1,isScaleAnimation:!1,maskIndex:1001,isScrollAble:!0,isAutoShow:!0,align:"center",autoHideCount:3e3,text:"",pos:.8},e='<div class="mod-dialog-toast"></div>',i=jsmod.util.klass({initialize:function(e){"string"==typeof e&&(e={text:e}),e=$.extend({},t,e),this.setStyle(e.style?this.merge(jsmod.style["jsmod.ui.Toast"],e.style,!0):jsmod.style["jsmod.ui.Toast"]),this.initDom(e),e.pos<1&&(e.offset={left:0,top:parseInt($(window).height()*(.5-(1-e.pos)))}),jsmod.ui.Dialog.prototype.initialize.apply(this,[e]),this._initEvent(e)},_initEvent:function(t){var e=this;0!==t.autoHideCount&&(e.hideTimer=setTimeout(function(){e.isShown()&&e.hide()},t.autoHideCount),e.on("hidden",function(){e.hideTimer&&clearTimeout(e.hideTimer),e.destroy()}))},initDom:function(t){var i=this;i._totastElement=t.element=$(e).css(this.getStyle("ELEMENT")),t.text&&i._totastElement.html(t.text).css("text-align",t.align)}},jsmod.ui.Dialog);jsmod.ui.Toast=i}(),function(){var t;t={count:1,interval:500,current:0};var e=jsmod.util.klass({initialize:function(e,i){var o=this;o.$element=$(e),o.option=$.extend({},t,i),i.htmls?(o.total=o.option.htmls.length,o.htmlMode=!0):(o.total=o.$element.find(".mod-carousel-item").length,o.htmlMode=!1),o.init()},createDom:function(){var t,e=this,i=e.option;e.$list=$('<ul class="mod-carousel"></ul>').css({overflow:"hidden",display:"block"}),e.$items=$(),e.htmlMode?(1==i.count&&e.total>1&&(i.htmls.push(i.htmls[0]),i.htmls.unshift(i.htmls[e.total-1])),$.each(i.htmls,function(t,o){var n;1==i.count&&e.total>1&&(t-=1),n=$('<li style="display:inline-block;float:left;" class="mod-carousel-item"></li>').attr("data-index",t).html(o),e.$items=e.$items.add(n)}),e.$list.append(e.$items)):((t=e.$element.find(".mod-carousel-item")).each(function(o){1==i.count&&0==o&&e.total>1&&(e.$items=e.$items.add(t.last().clone().attr("data-index",-1))),e.$items=e.$items.add($(this).attr("data-index",o)),1==i.count&&o==e.total-1&&e.total>1&&(e.$items=e.$items.add(t.first().clone().attr("data-index",e.total)))}),e.$items.css({display:"inline-block","float":"left"}),e.$list.append(e.$items)),e.itemWidth=parseFloat((e.$element.width()/i.count).toFixed(2)),e.$items.width(e.itemWidth),e.$list.width(e.itemWidth*e.$items.length)},init:function(){var t=this,e=t.option;t.createDom(),t.$element.css({position:"relative",overflow:"hidden"}).append(t.$list),t.scroll=new IScroll(t.$element.get(0),{scrollX:1==t.total&&1==e.count?!1:!0,scrollY:!1,snapThreshold:.13,snapSpeed:500,snap:1==e.count?".mod-carousel-item":!1,eventPassthrough:!0,bounce:1==t.option.count?!1:!0,disableMouse:!0,disablePointer:!0,momentum:1==t.option.count?!1:!0}),1==e.count&&(t.cur(e.current,void 0,!0),t.scroll.on("scrollEnd",function(){0==this.currentPage.pageX?t.cur(t.total-1,void 0,!0):this.currentPage.pageX==t.total+1?t.cur(0,void 0,!0):t.setCur(this.currentPage.pageX-1,void 0,!0)}))},pre:function(t){return this.cur(this.index-1,t)},next:function(t){return this.cur(this.index+1,t)},cur:function(t,e,i){var o,n=this,s=n.option;return s.count>1?void 0:(o=i?0:n.option.interval,n.scroll.goToPage(t+1,0,o),n.setCur(t==n.total?0:-1==t?n.total-1:t))},setCur:function(t){var e=this;return void 0!==e.index&&e.getItem(e.index).removeClass("mod-carousel-item-cur"),e.index=t,e.getItem(e.index).addClass("mod-carousel-item-cur"),e.trigger("active",[t]),t},getItem:function(t){var e=this;return this.$items.filter(function(i){return $(this).data("index")==t?!0:1==e.option.count&&0==t&&i==e.total+2-1?!0:1==e.option.count&&t==e.total-1&&0==i?!0:1==e.option.count&&t==e.total&&0==$(this).data("index")?!0:void 0})},getElement:function(){return this.$element},getCurIndex:function(){return this.index},destroy:function(){this.$list.remove(),this.$list=null,this.scroll.destroy()}},null,jsmod.ui.Base);jsmod.ui.Carousel=e}(window),function(){var t='<div style="position:relative;overflow:hidden;width:<%= info.width%>px;height:<%= info.height%>px"><% if (data.title) { %><span style="<%= style.BOTTOM_BAR %>"><%= data.title %></span><% } %><img data-src="<%= data.src %>" style="<%= style.IMAGE %>"></div>',e={count:1,current:0,autoRunInterval:5e3,isAutoRun:!0,isBlank:!1,isDisplayAll:!1},i=jsmod.util.klass({initialize:function(t){this.setStyle(t.style?this.merge(jsmod.style["jsmod.ui.Banner"],t.style,!0):jsmod.style["jsmod.ui.Banner"]),t=$.extend({},e,t),t.htmls=this._createHTMLS(t.datas,t),jsmod.ui.Carousel.prototype.initialize.apply(this,[t.element,t]),this._bannerEvents()},_bannerEvents:function(){var t=this;t.$element.find("img").on("load",function(){var e,i,o,n=this.width,s=this.height,r=$(this).parent().width(),a=$(this).parent().height();o=t.option.isDisplayAll?Math.min(r/n,a/s):Math.max(r/n,a/s),e=parseInt(o*n,10)||r,i=parseInt(o*s,10)||a,$(this).css({width:e+"px",height:i+"px","margin-top":parseInt((a-i)/2,10),"margin-left":parseInt((r-e)/2,10),opacity:1})}),t.$element.on("click",".mod-carousel-item-cur",function(){var e,i;e=(i=t.option.datas[$(this).data("index")])&&i.href,e?t.option.isBlank?window.open(e):window.location.href=e:""}),t.on("active",function(e,i){t._loadIndex(i),t.option.isAutoRun&&t.option.datas.length>1&&t._autoRunFun()}),t._loadIndex(t.option.current),t.option.isAutoRun&&t.option.datas.length>1&&(t._autoRunFun(),t.scroll.on("scrollStart",function(){t._autoRunTimer&&clearTimeout(t._autoRunTimer)}))},_autoRunFun:function(){var t=this;t._autoRunTimer&&clearTimeout(t._autoRunTimer),t._autoRunTimer=setTimeout(function(){t.next()},t.option.autoRunInterval)},_loadIndex:function(t){var e,i;e=this.getItem(t).find("img"),e.data("is-load")||e.prop("src",e.data("src")).data("is-load",!0),i=this.getItem(t+1).find("img"),i.length&&!i.data("is-load")&&i.prop("src",i.data("src")).data("is-load",!0)},_createHTMLS:function(e,i){var o=this,n={width:$(i.element).width(),height:$(i.element).height()},s={IMAGE:o.getStyle("IMAGE",!0),BOTTOM_BAR:o.getStyle("BOTTOM_BAR",!0)};return $.map(e,function(e){return o.templateEngine(t,{info:n,data:e,style:s})})}},jsmod.ui.Carousel);jsmod.ui.Banner=i}(window),function(t){var e;e={animateCount:300};var i=jsmod.util.klass({initialize:function(t){var i=this;i.option=$.extend({},e,t),i.$container=$(t.container),i.$items=i.$container.find(".mod-tab-item"),i.index=t.index||0,i.initTab()},initTab:function(){var t=this;t.cur(t.index,!0)},cur:function(t,e){var i=this;return i.option,void 0===t&&void 0!==i.index?i._curItem():void(t>i.$items.length-1||(e=jsmod.detector.isAnimation()?e:!0,i.$items.eq(t).show().addClass("mod-tab-item-active").css("opacity",e?1:0).animate({opacity:1},i.option.animateCount).siblings(".mod-tab-item").removeClass("mod-tab-item-active").hide(),i.index=t,i.trigger("active",[t])))},_curItem:function(){return this.$items.eq(this.index)}},null,jsmod.ui.Base);t.jsmod.ui.Tab=i}(window),function(t){var e={maskIndex:1010,contentBg:"#f2f2f2",isScreenClickHide:!0,isAnimation:!1,isIScroll:!1,opacity:.7};t.jsmod.ui.Layer=jsmod.util.klass({initialize:function(t){var i=this,o=$(window).height();i.option=$.extend({},e,t),i.option.isAnimation=jsmod.detector.isAnimation()?i.option.isAnimation:!1,i.$maskScreen=i.createScreenEl().appendTo("body").css("min-height",o).css("background-color","rgba(0, 0, 0,"+i.option.opacity+")"),i.$maskContent=i.createContent().appendTo(i.$maskScreen),i.option.height?i.$maskContent.css("height",i.option.height):i.$maskContent.css("min-height",o),i.$maskDetail=i.$maskContent.find(".mod-layer-detail"),i.option.isScreenClickHide&&i.$maskScreen.on("tap.layer",function(t){t.target==i.$maskScreen.get(0)&&i.hide()}),jsmod.ui.Layer.addInstance(this),jsmod.ui.Layer.listen()},createContent:function(){var t='<div style="width: 100%; height: 100%; background-color: '+this.option.contentBg+'" class="mod-layer-content"><div class="mod-layer-detail"></div></div>';return $(t)},createScreenEl:function(){var t='<div class="mod-layer-screen"style="overflow:auto; display:none; position: fixed; left:0; top: 0; right:0; bottom: 0; z-index: '+this.option.maskIndex+';"></div>';return $(t)},reset:function(){var t,e=this;(e.option.height||!e.option.otherElement)&&(t=$(window).height()-e.$maskContent.prop("clientHeight"),e.option.isAnimation?e.$maskContent.css("-webkit-transform","translateY("+t+"px)"):e.$maskContent.css("margin-top",t+"px"))},isShown:function(){return this.$maskScreen?!("none"==this.$maskScreen.css("display")):void 0},show:function(t){var e,i=this,o=$(window).height();this.trigger("beforeshow").isDefaultPrevented()||(i.option.isAnimation?(i.$maskScreen.show(),i.$maskContent.css("-webkit-transform","translateY("+o+"px)"),e=o-i.$maskContent.prop("clientHeight"),i.$maskContent.off($.fx.animationEnd),i.$maskContent.animate({"-webkit-transform":"translateY("+e+"px)"},300,"ease",function(){!i.option.height&&i.option.otherElement?("function"==(typeof i.option.otherElement).toLowerCase()?$(i.option.otherElement()).hide():$(i.option.otherElement).hide(),i.$maskScreen.css("position","relative")):i.$maskScreen.on("touchmove.layer",function(t){t.preventDefault()}),i.trigger("shown"),t&&t(i.$maskDetail),i.option.shownCallback&&i.option.shownCallback.apply(i)})):(i.$maskScreen.show(),!i.option.height&&i.option.otherElement?("function"==(typeof i.option.otherElement).toLowerCase()?$(i.option.otherElement()).hide():$(i.option.otherElement).hide(),i.$maskScreen.css("position","relative")):(e=o-i.$maskContent.prop("clientHeight"),i.$maskContent.css("margin-top",e+"px"),i.$maskScreen.on("touchmove.layer",function(t){t.preventDefault()})),i.trigger("shown"),t&&t(i.$maskDetail),i.option.shownCallback&&i.option.shownCallback.apply(i)))},hide:function(t){var e=this;this.trigger("beforehide").isDefaultPrevented()||(e.$maskScreen.off("touchmove.layer"),!e.option.height&&e.option.otherElement&&("function"==(typeof e.option.otherElement).toLowerCase()?$(e.option.otherElement()).show():$(e.option.otherElement).show()),e.$maskScreen.css("position","fixed"),e.option.isAnimation?(e.$maskContent.off($.fx.animationEnd),e.$maskScreen.animate({opacity:0}),e.$maskContent.animate({"-webkit-transform":"translateY("+$(window).height()+"px)"},300,"ease",function(){e.$maskScreen.css("opacity",1).hide(),e.trigger("hidden"),t&&t(e.$maskDetail),e.option.hiddenCallback&&e.option.hiddenCallback.apply(e)})):(e.$maskScreen.hide(),e.$maskContent.css("margin-top","0"),e.trigger("hidden"),t&&t(e.$maskDetail),e.option.hiddenCallback&&e.option.hiddenCallback.apply(e)))},getElement:function(){return this.$maskDetail},switchDisplay:function(){this.isShown()?this.hide():this.show()},destroy:function(){this.$maskScreen.remove()}},null,jsmod.ui.Base),jsmod.ui.Layer._instances=[],jsmod.ui.Layer.addInstance=function(t){-1==$.inArray(t,this._instances)&&(t._insI=jsmod.ui.Layer._instances.length,this._instances.push(t))},jsmod.ui.Layer.getInstances=function(){return this._instances},jsmod.ui.Layer.removeAll=function(){this._instances.forEach(function(t){t&&void 0!==t._insI&&(t.destroy(),delete jsmod.ui.Layer._instances[t._insI])}),this._isListening=!1,this.resizeTimer&&clearTimeout(this.resizeTimer),$(window).off("resize.layer")},jsmod.ui.Layer.listen=function(){var t=this;t._isListening||(t._isListening=!0,$(window).on("resize.layer",function(){t.resizeTimer&&clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){t.getInstances().forEach(function(t){t&&t.isShown()&&t.reset()})},300)}))}}(window),!function(t,e){"function"==typeof define&&(define.amd||define.cmd)?define(function(){return e(t)}):e(t,!0)}(this,function(t,e){function i(e,i,o){t.WeixinJSBridge?WeixinJSBridge.invoke(e,n(i),function(t){r(e,t,o)}):l(e,o)}function o(e,i,o){t.WeixinJSBridge?WeixinJSBridge.on(e,function(t){o&&o.trigger&&o.trigger(t),r(e,t,i)}):o?l(e,o):l(e,i)}function n(t){return t=t||{},t.appId=C.appId,t.verifyAppId=C.appId,t.verifySignType="sha1",t.verifyTimestamp=C.timestamp+"",t.verifyNonceStr=C.nonceStr,t.verifySignature=C.signature,t}function s(t){return{timeStamp:t.timestamp+"",nonceStr:t.nonceStr,"package":t.package,paySign:t.paySign,signType:t.signType||"SHA1"}}function r(t,e,i){var o,n,s;switch(delete e.err_code,delete e.err_desc,delete e.err_detail,o=e.errMsg,o||(o=e.err_msg,delete e.err_msg,o=a(t,o),e.errMsg=o),i=i||{},i._complete&&(i._complete(e),delete i._complete),o=e.errMsg||"",C.debug&&!i.isInnerInvoke&&alert(JSON.stringify(e)),n=o.indexOf(":"),s=o.substring(n+1)){case"ok":i.success&&i.success(e);break;case"cancel":i.cancel&&i.cancel(e);break;default:i.fail&&i.fail(e)}i.complete&&i.complete(e)}function a(t,e){var i,o,n=t,s=m[n];return s&&(n=s),i="ok",e&&(o=e.indexOf(":"),i=e.substring(o+1),"confirm"==i&&(i="ok"),"failed"==i&&(i="fail"),-1!=i.indexOf("failed_")&&(i=i.substring(7)),-1!=i.indexOf("fail_")&&(i=i.substring(5)),i=i.replace(/_/g," "),i=i.toLowerCase(),("access denied"==i||"no permission to execute"==i)&&(i="permission denied"),"config"==n&&"function not exist"==i&&(i="ok"),""==i&&(i="fail")),e=n+":"+i}function c(t){var e,i,o,n;if(t){for(e=0,i=t.length;i>e;++e)o=t[e],n=f[o],n&&(t[e]=n);return t}}function l(t,e){if(!(!C.debug||e&&e.isInnerInvoke)){var i=m[t];i&&(t=i),e&&e._complete&&delete e._complete,console.log('"'+t+'",',e||"")}}function h(){0!=A.preVerifyState&&(w||_||C.debug||"6.0.2">k||A.systemType<0||P||(P=!0,A.appId=C.appId,A.initTime=I.initEndTime-I.initStartTime,A.preVerifyTime=I.preVerifyEndTime-I.preVerifyStartTime,M.getNetworkType({isInnerInvoke:!0,success:function(t){var e,i;A.networkType=t.networkType,e="http://open.weixin.qq.com/sdk/report?v="+A.version+"&o="+A.preVerifyState+"&s="+A.systemType+"&c="+A.clientVersion+"&a="+A.appId+"&n="+A.networkType+"&i="+A.initTime+"&p="+A.preVerifyTime+"&u="+A.url,i=new Image,i.src=e}})))}function d(){return(new Date).getTime()}function u(e){x&&(t.WeixinJSBridge?e():g.addEventListener&&g.addEventListener("WeixinJSBridgeReady",e,!1))}function p(){M.invoke||(M.invoke=function(e,i,o){t.WeixinJSBridge&&WeixinJSBridge.invoke(e,n(i),o)},M.on=function(e,i){t.WeixinJSBridge&&WeixinJSBridge.on(e,i)})}var f,m,g,v,y,S,w,_,x,b,T,k,P,E,I,A,C,$,J,M;return t.jWeixin?void 0:(f={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest"},m=function(){var t,e={};for(t in f)e[f[t]]=t;return e}(),g=t.document,v=g.title,y=navigator.userAgent.toLowerCase(),S=navigator.platform.toLowerCase(),w=!(!S.match("mac")&&!S.match("win")),_=-1!=y.indexOf("wxdebugger"),x=-1!=y.indexOf("micromessenger"),b=-1!=y.indexOf("android"),T=-1!=y.indexOf("iphone")||-1!=y.indexOf("ipad"),k=function(){var t=y.match(/micromessenger\/(\d+\.\d+\.\d+)/)||y.match(/micromessenger\/(\d+\.\d+)/);return t?t[1]:""}(),P=!1,E=!1,I={initStartTime:d(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},A={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",preVerifyState:1,systemType:T?1:b?2:-1,clientVersion:k,url:encodeURIComponent(location.href)},C={},$={_completes:[]},J={state:0,data:{}},u(function(){I.initEndTime=d()}),M={config:function(t){C=t,l("config",t);var e=C.check===!1?!1:!0;u(function(){var t,o,n;if(e)i(f.config,{verifyJsApiList:c(C.jsApiList)},function(){$._complete=function(t){I.preVerifyEndTime=d(),J.state=1,J.data=t},$.success=function(){A.preVerifyState=0},$.fail=function(t){$._fail?$._fail(t):J.state=-1};var t=$._completes;return t.push(function(){h()}),$.complete=function(){for(var e=0,i=t.length;i>e;++e)t[e]();$._completes=[]},$}()),I.preVerifyStartTime=d();else{for(J.state=1,t=$._completes,o=0,n=t.length;n>o;++o)t[o]();$._completes=[]}}),C.beta&&p()},ready:function(t){0!=J.state?t():($._completes.push(t),!x&&C.debug&&t())},error:function(t){"6.0.2">k||E||(E=!0,-1==J.state?t(J.data):$._fail=t)},checkJsApi:function(t){var e=function(t){var e,i,o=t.checkResult;for(e in o)i=m[e],i&&(o[i]=o[e],delete o[e]);return t};i("checkJsApi",{jsApiList:c(t.jsApiList)},function(){return t._complete=function(t){if(b){var i=t.checkResult;i&&(t.checkResult=JSON.parse(i))}t=e(t)},t}())},onMenuShareTimeline:function(t){o(f.onMenuShareTimeline,{complete:function(){i("shareTimeline",{title:t.title||v,desc:t.title||v,img_url:t.imgUrl||"",link:t.link||location.href,type:t.type||"link",data_url:t.dataUrl||""},t)}},t)},onMenuShareAppMessage:function(t){o(f.onMenuShareAppMessage,{complete:function(){i("sendAppMessage",{title:t.title||v,desc:t.desc||"",link:t.link||location.href,img_url:t.imgUrl||"",type:t.type||"link",data_url:t.dataUrl||""},t)}},t)},onMenuShareQQ:function(t){o(f.onMenuShareQQ,{complete:function(){i("shareQQ",{title:t.title||v,desc:t.desc||"",img_url:t.imgUrl||"",link:t.link||location.href},t)}},t)},onMenuShareWeibo:function(t){o(f.onMenuShareWeibo,{complete:function(){i("shareWeiboApp",{title:t.title||v,desc:t.desc||"",img_url:t.imgUrl||"",link:t.link||location.href},t)}},t)},onMenuShareQZone:function(t){o(f.onMenuShareQZone,{complete:function(){i("shareQZone",{title:t.title||v,desc:t.desc||"",img_url:t.imgUrl||"",link:t.link||location.href},t)}},t)},startRecord:function(t){i("startRecord",{},t)},stopRecord:function(t){i("stopRecord",{},t)},onVoiceRecordEnd:function(t){o("onVoiceRecordEnd",t)},playVoice:function(t){i("playVoice",{localId:t.localId},t)},pauseVoice:function(t){i("pauseVoice",{localId:t.localId},t)},stopVoice:function(t){i("stopVoice",{localId:t.localId},t)},onVoicePlayEnd:function(t){o("onVoicePlayEnd",t)},uploadVoice:function(t){i("uploadVoice",{localId:t.localId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},downloadVoice:function(t){i("downloadVoice",{serverId:t.serverId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},translateVoice:function(t){i("translateVoice",{localId:t.localId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},chooseImage:function(t){i("chooseImage",{scene:"1|2",count:t.count||9,sizeType:t.sizeType||["original","compressed"],sourceType:t.sourceType||["album","camera"]},function(){return t._complete=function(t){if(b){var e=t.localIds;e&&(t.localIds=JSON.parse(e))}},t}())},previewImage:function(t){i(f.previewImage,{current:t.current,urls:t.urls},t)},uploadImage:function(t){i("uploadImage",{localId:t.localId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},downloadImage:function(t){i("downloadImage",{serverId:t.serverId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},getNetworkType:function(t){var e=function(t){var e,i,o,n=t.errMsg;if(t.errMsg="getNetworkType:ok",e=t.subtype,delete t.subtype,e)t.networkType=e;else switch(i=n.indexOf(":"),o=n.substring(i+1)){case"wifi":case"edge":case"wwan":t.networkType=o;break;default:t.errMsg="getNetworkType:fail"}return t};i("getNetworkType",{},function(){return t._complete=function(t){t=e(t)},t}())},openLocation:function(t){i("openLocation",{latitude:t.latitude,longitude:t.longitude,name:t.name||"",address:t.address||"",scale:t.scale||28,infoUrl:t.infoUrl||""},t)},getLocation:function(t){t=t||{},i(f.getLocation,{type:t.type||"wgs84"},function(){return t._complete=function(t){delete t.type},t}())},hideOptionMenu:function(t){i("hideOptionMenu",{},t)},showOptionMenu:function(t){i("showOptionMenu",{},t)},closeWindow:function(t){t=t||{},i("closeWindow",{},t)},hideMenuItems:function(t){i("hideMenuItems",{menuList:t.menuList},t)},showMenuItems:function(t){i("showMenuItems",{menuList:t.menuList},t)},hideAllNonBaseMenuItem:function(t){i("hideAllNonBaseMenuItem",{},t)},showAllNonBaseMenuItem:function(t){i("showAllNonBaseMenuItem",{},t)},scanQRCode:function(t){t=t||{},i("scanQRCode",{needResult:t.needResult||0,scanType:t.scanType||["qrCode","barCode"]},function(){return t._complete=function(t){var e,i;T&&(e=t.resultStr,e&&(i=JSON.parse(e),t.resultStr=i&&i.scan_code&&i.scan_code.scan_result))},t}())},openProductSpecificView:function(t){i(f.openProductSpecificView,{pid:t.productId,view_type:t.viewType||0,ext_info:t.extInfo},t)},addCard:function(t){var e,o,n,s,r=t.cardList,a=[];for(e=0,o=r.length;o>e;++e)n=r[e],s={card_id:n.cardId,card_ext:n.cardExt},a.push(s);i(f.addCard,{card_list:a},function(){return t._complete=function(t){var e,i,o,n=t.card_list;if(n){for(n=JSON.parse(n),e=0,i=n.length;i>e;++e)o=n[e],o.cardId=o.card_id,o.cardExt=o.card_ext,o.isSuccess=o.is_succ?!0:!1,delete o.card_id,delete o.card_ext,delete o.is_succ;t.cardList=n,delete t.card_list}},t}())},chooseCard:function(t){i("chooseCard",{app_id:C.appId,location_id:t.shopId||"",sign_type:t.signType||"SHA1",card_id:t.cardId||"",card_type:t.cardType||"",card_sign:t.cardSign,time_stamp:t.timestamp+"",nonce_str:t.nonceStr},function(){return t._complete=function(t){t.cardList=t.choose_card_info,delete t.choose_card_info},t}())},openCard:function(t){var e,o,n,s,r=t.cardList,a=[];for(e=0,o=r.length;o>e;++e)n=r[e],s={card_id:n.cardId,code:n.code},a.push(s);i(f.openCard,{card_list:a},t)},chooseWXPay:function(t){i(f.chooseWXPay,s(t),t)}},e&&(t.wx=t.jWeixin=M),M)}),PJS.ui=PJS.ui||{},PJS.ui.title={},PJS.ui.title.setTitle=function(t){document.title=t||"";var e=$("#piao-widget-common-bar");e.length>0&&e.find("p").length>0&&e.find("p").html(t)},PJS.ui.title.addActionButton=function(t){PJS.ui.title.morelist=[],PJS.ui.title.morelist=t.content},PJS.ui.title.removeBtnAll=function(){},PJS.ui.Alert=jsmod.ui.Alert,PJS.ui.Banner=jsmod.ui.Banner,PJS.ui.Carousel=jsmod.ui.Carousel,PJS.ui.Confirm=jsmod.ui.Confirm,PJS.ui.Dialog=jsmod.ui.Dialog,PJS.ui.Layer=jsmod.ui.Layer,PJS.ui.Toast=jsmod.ui.Toast,PJS.ui.dialog={},PJS.ui.dialog.show=function(options){function hide(t){dialog.on("hidden",function(){t&&"function"==typeof t&&t()}),dialog.hide()}var dialog=[function(_template_object){var _template_fun_array=[],fn=function(__data__){var _template_varName="";for(var name in __data__)_template_varName+="var "+name+'=__data__["'+name+'"];';eval(_template_varName),_template_fun_array.push('<div class="yc-ui-dialog">'),title&&_template_fun_array.push('<h3 class="title">',"undefined"==typeof title?"":baidu.template._encodeHTML(title),"</h3>"),_template_fun_array.push('    <div class="content">        <div class="inner-content">',"undefined"==typeof message?"":baidu.template._encodeHTML(message),"</div>    </div>"),hasFooter===!1&&(_template_fun_array.push('<div class="footer border border-top">    '),data.cancel&&_template_fun_array.push('<a class="btn touching btn-cancel border border-right" href="javascript:;">',"undefined"==typeof cancel?"":baidu.template._encodeHTML(cancel),"</a>"),_template_fun_array.push("    "),data.ok&&_template_fun_array.push('<a class="btn touching btn-confirm" href="javascript:;">',"undefined"==typeof ok?"":baidu.template._encodeHTML(ok),"</a>"),_template_fun_array.push("</div>")),_template_fun_array.push("</div>"),_template_varName=null}(_template_object);return fn=null,_template_fun_array.join("")}][0],message=options.message||"",title=options.title||"",ok=options.ok||"",cancel=options.cancel||"",onConfirm=options.onConfirm,onCancel=options.onCancel,hasFooter=options.hasFooter||!1,html=dialog({data:options}),dialog=new PJS.ui.Dialog({html:html||"",maskIndex:1e3});dialog.show();var content=dialog.getElement();content.cancelBtn=content.find(".btn-cancel"),content.confirmBtn=content.find(".btn-confirm"),content.cancelBtn.length>0&&content.cancelBtn.on("click",function(){hide(onCancel)}),content.confirmBtn.length>0&&content.confirmBtn.on("click",function(){hide(onConfirm)})},PJS.ui.toast={},PJS.ui.toast.show=function(t,e){var t=t||"",e=e||2,i=new PJS.ui.Toast({text:t,autoHideCount:1e3*e});setTimeout(function(){i.hide(),i=null},1e3*(e+2))},PJS.ui.alert={},PJS.ui.alert.show=function(t){var e=t.text||"",i=t.button||"关闭",o=t.onConfirm||function(){},n=new PJS.ui.Alert({html:e,button:i,buttonCallback:function(){o&&"function"==typeof o&&o()}});setTimeout(function(){n.hide(),n=null},length+2)},PJS.ui.confirm={},PJS.ui.confirm.show=function(t){function e(t){c.on("hidden",function(){i||(i=!0,t&&"function"==typeof t&&t())}),c.hide(),c=null,l=null}var i,o=t.text||"",n=t.buttonOk||"确认",s=t.cancel||"取消",r=t.onCancel,a=t.onConfirm,c=new PJS.ui.Confirm({html:o,buttonOk:n,buttonNo:s,maskIndex:1e3}),l=c.getElement();l.cancelBtn=l.find(".mod-dialog-button-no"),l.confirmBtn=l.find(".mod-dialog-button-ok"),l.cancelBtn.length>0&&l.cancelBtn.on("click",function(){e(r)}),l.confirmBtn.length>0&&l.confirmBtn.on("click",function(){e(a)})},!function(t,e){"function"==typeof define&&(define.amd||define.cmd)?define(function(){return e(t)}):e(t,!0)}(this,function(t,e){function i(e,i,o){t.WeixinJSBridge?WeixinJSBridge.invoke(e,n(i),function(t){r(e,t,o)}):l(e,o)}function o(e,i,o){t.WeixinJSBridge?WeixinJSBridge.on(e,function(t){o&&o.trigger&&o.trigger(t),r(e,t,i)}):o?l(e,o):l(e,i)}function n(t){return t=t||{},t.appId=C.appId,t.verifyAppId=C.appId,t.verifySignType="sha1",t.verifyTimestamp=C.timestamp+"",t.verifyNonceStr=C.nonceStr,t.verifySignature=C.signature,t}function s(t){return{timeStamp:t.timestamp+"",nonceStr:t.nonceStr,"package":t.package,paySign:t.paySign,signType:t.signType||"SHA1"}}function r(t,e,i){var o,n,s;switch(delete e.err_code,delete e.err_desc,delete e.err_detail,o=e.errMsg,o||(o=e.err_msg,delete e.err_msg,o=a(t,o),e.errMsg=o),i=i||{},i._complete&&(i._complete(e),delete i._complete),o=e.errMsg||"",C.debug&&!i.isInnerInvoke&&alert(JSON.stringify(e)),n=o.indexOf(":"),s=o.substring(n+1)){case"ok":i.success&&i.success(e);break;case"cancel":i.cancel&&i.cancel(e);break;default:i.fail&&i.fail(e)}i.complete&&i.complete(e)}function a(t,e){var i,o,n=t,s=m[n];return s&&(n=s),i="ok",e&&(o=e.indexOf(":"),i=e.substring(o+1),"confirm"==i&&(i="ok"),"failed"==i&&(i="fail"),-1!=i.indexOf("failed_")&&(i=i.substring(7)),-1!=i.indexOf("fail_")&&(i=i.substring(5)),i=i.replace(/_/g," "),i=i.toLowerCase(),("access denied"==i||"no permission to execute"==i)&&(i="permission denied"),"config"==n&&"function not exist"==i&&(i="ok"),""==i&&(i="fail")),e=n+":"+i}function c(t){var e,i,o,n;if(t){for(e=0,i=t.length;i>e;++e)o=t[e],n=f[o],n&&(t[e]=n);return t}}function l(t,e){if(!(!C.debug||e&&e.isInnerInvoke)){var i=m[t];i&&(t=i),e&&e._complete&&delete e._complete,console.log('"'+t+'",',e||"")}}function h(){0!=A.preVerifyState&&(w||_||C.debug||"6.0.2">k||A.systemType<0||P||(P=!0,A.appId=C.appId,A.initTime=I.initEndTime-I.initStartTime,A.preVerifyTime=I.preVerifyEndTime-I.preVerifyStartTime,M.getNetworkType({isInnerInvoke:!0,success:function(t){var e,i;A.networkType=t.networkType,e="http://open.weixin.qq.com/sdk/report?v="+A.version+"&o="+A.preVerifyState+"&s="+A.systemType+"&c="+A.clientVersion+"&a="+A.appId+"&n="+A.networkType+"&i="+A.initTime+"&p="+A.preVerifyTime+"&u="+A.url,i=new Image,i.src=e}})))}function d(){return(new Date).getTime()}function u(e){x&&(t.WeixinJSBridge?e():g.addEventListener&&g.addEventListener("WeixinJSBridgeReady",e,!1))}function p(){M.invoke||(M.invoke=function(e,i,o){t.WeixinJSBridge&&WeixinJSBridge.invoke(e,n(i),o)},M.on=function(e,i){t.WeixinJSBridge&&WeixinJSBridge.on(e,i)})}var f,m,g,v,y,S,w,_,x,b,T,k,P,E,I,A,C,$,J,M;return t.jWeixin?void 0:(f={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest"},m=function(){var t,e={};for(t in f)e[f[t]]=t;return e}(),g=t.document,v=g.title,y=navigator.userAgent.toLowerCase(),S=navigator.platform.toLowerCase(),w=!(!S.match("mac")&&!S.match("win")),_=-1!=y.indexOf("wxdebugger"),x=-1!=y.indexOf("micromessenger"),b=-1!=y.indexOf("android"),T=-1!=y.indexOf("iphone")||-1!=y.indexOf("ipad"),k=function(){var t=y.match(/micromessenger\/(\d+\.\d+\.\d+)/)||y.match(/micromessenger\/(\d+\.\d+)/);return t?t[1]:""}(),P=!1,E=!1,I={initStartTime:d(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},A={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",preVerifyState:1,systemType:T?1:b?2:-1,clientVersion:k,url:encodeURIComponent(location.href)},C={},$={_completes:[]},J={state:0,data:{}},u(function(){I.initEndTime=d()}),M={config:function(t){C=t,l("config",t);var e=C.check===!1?!1:!0;u(function(){var t,o,n;if(e)i(f.config,{verifyJsApiList:c(C.jsApiList)},function(){$._complete=function(t){I.preVerifyEndTime=d(),J.state=1,J.data=t},$.success=function(){A.preVerifyState=0},$.fail=function(t){$._fail?$._fail(t):J.state=-1};var t=$._completes;return t.push(function(){h()}),$.complete=function(){for(var e=0,i=t.length;i>e;++e)t[e]();$._completes=[]},$}()),I.preVerifyStartTime=d();else{for(J.state=1,t=$._completes,o=0,n=t.length;n>o;++o)t[o]();$._completes=[]}}),C.beta&&p()},ready:function(t){0!=J.state?t():($._completes.push(t),!x&&C.debug&&t())},error:function(t){"6.0.2">k||E||(E=!0,-1==J.state?t(J.data):$._fail=t)},checkJsApi:function(t){var e=function(t){var e,i,o=t.checkResult;for(e in o)i=m[e],i&&(o[i]=o[e],delete o[e]);return t};i("checkJsApi",{jsApiList:c(t.jsApiList)},function(){return t._complete=function(t){if(b){var i=t.checkResult;
i&&(t.checkResult=JSON.parse(i))}t=e(t)},t}())},onMenuShareTimeline:function(t){o(f.onMenuShareTimeline,{complete:function(){i("shareTimeline",{title:t.title||v,desc:t.title||v,img_url:t.imgUrl||"",link:t.link||location.href,type:t.type||"link",data_url:t.dataUrl||""},t)}},t)},onMenuShareAppMessage:function(t){o(f.onMenuShareAppMessage,{complete:function(){i("sendAppMessage",{title:t.title||v,desc:t.desc||"",link:t.link||location.href,img_url:t.imgUrl||"",type:t.type||"link",data_url:t.dataUrl||""},t)}},t)},onMenuShareQQ:function(t){o(f.onMenuShareQQ,{complete:function(){i("shareQQ",{title:t.title||v,desc:t.desc||"",img_url:t.imgUrl||"",link:t.link||location.href},t)}},t)},onMenuShareWeibo:function(t){o(f.onMenuShareWeibo,{complete:function(){i("shareWeiboApp",{title:t.title||v,desc:t.desc||"",img_url:t.imgUrl||"",link:t.link||location.href},t)}},t)},onMenuShareQZone:function(t){o(f.onMenuShareQZone,{complete:function(){i("shareQZone",{title:t.title||v,desc:t.desc||"",img_url:t.imgUrl||"",link:t.link||location.href},t)}},t)},startRecord:function(t){i("startRecord",{},t)},stopRecord:function(t){i("stopRecord",{},t)},onVoiceRecordEnd:function(t){o("onVoiceRecordEnd",t)},playVoice:function(t){i("playVoice",{localId:t.localId},t)},pauseVoice:function(t){i("pauseVoice",{localId:t.localId},t)},stopVoice:function(t){i("stopVoice",{localId:t.localId},t)},onVoicePlayEnd:function(t){o("onVoicePlayEnd",t)},uploadVoice:function(t){i("uploadVoice",{localId:t.localId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},downloadVoice:function(t){i("downloadVoice",{serverId:t.serverId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},translateVoice:function(t){i("translateVoice",{localId:t.localId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},chooseImage:function(t){i("chooseImage",{scene:"1|2",count:t.count||9,sizeType:t.sizeType||["original","compressed"],sourceType:t.sourceType||["album","camera"]},function(){return t._complete=function(t){if(b){var e=t.localIds;e&&(t.localIds=JSON.parse(e))}},t}())},previewImage:function(t){i(f.previewImage,{current:t.current,urls:t.urls},t)},uploadImage:function(t){i("uploadImage",{localId:t.localId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},downloadImage:function(t){i("downloadImage",{serverId:t.serverId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},getNetworkType:function(t){var e=function(t){var e,i,o,n=t.errMsg;if(t.errMsg="getNetworkType:ok",e=t.subtype,delete t.subtype,e)t.networkType=e;else switch(i=n.indexOf(":"),o=n.substring(i+1)){case"wifi":case"edge":case"wwan":t.networkType=o;break;default:t.errMsg="getNetworkType:fail"}return t};i("getNetworkType",{},function(){return t._complete=function(t){t=e(t)},t}())},openLocation:function(t){i("openLocation",{latitude:t.latitude,longitude:t.longitude,name:t.name||"",address:t.address||"",scale:t.scale||28,infoUrl:t.infoUrl||""},t)},getLocation:function(t){t=t||{},i(f.getLocation,{type:t.type||"wgs84"},function(){return t._complete=function(t){delete t.type},t}())},hideOptionMenu:function(t){i("hideOptionMenu",{},t)},showOptionMenu:function(t){i("showOptionMenu",{},t)},closeWindow:function(t){t=t||{},i("closeWindow",{},t)},hideMenuItems:function(t){i("hideMenuItems",{menuList:t.menuList},t)},showMenuItems:function(t){i("showMenuItems",{menuList:t.menuList},t)},hideAllNonBaseMenuItem:function(t){i("hideAllNonBaseMenuItem",{},t)},showAllNonBaseMenuItem:function(t){i("showAllNonBaseMenuItem",{},t)},scanQRCode:function(t){t=t||{},i("scanQRCode",{needResult:t.needResult||0,scanType:t.scanType||["qrCode","barCode"]},function(){return t._complete=function(t){var e,i;T&&(e=t.resultStr,e&&(i=JSON.parse(e),t.resultStr=i&&i.scan_code&&i.scan_code.scan_result))},t}())},openProductSpecificView:function(t){i(f.openProductSpecificView,{pid:t.productId,view_type:t.viewType||0,ext_info:t.extInfo},t)},addCard:function(t){var e,o,n,s,r=t.cardList,a=[];for(e=0,o=r.length;o>e;++e)n=r[e],s={card_id:n.cardId,card_ext:n.cardExt},a.push(s);i(f.addCard,{card_list:a},function(){return t._complete=function(t){var e,i,o,n=t.card_list;if(n){for(n=JSON.parse(n),e=0,i=n.length;i>e;++e)o=n[e],o.cardId=o.card_id,o.cardExt=o.card_ext,o.isSuccess=o.is_succ?!0:!1,delete o.card_id,delete o.card_ext,delete o.is_succ;t.cardList=n,delete t.card_list}},t}())},chooseCard:function(t){i("chooseCard",{app_id:C.appId,location_id:t.shopId||"",sign_type:t.signType||"SHA1",card_id:t.cardId||"",card_type:t.cardType||"",card_sign:t.cardSign,time_stamp:t.timestamp+"",nonce_str:t.nonceStr},function(){return t._complete=function(t){t.cardList=t.choose_card_info,delete t.choose_card_info},t}())},openCard:function(t){var e,o,n,s,r=t.cardList,a=[];for(e=0,o=r.length;o>e;++e)n=r[e],s={card_id:n.cardId,code:n.code},a.push(s);i(f.openCard,{card_list:a},t)},chooseWXPay:function(t){i(f.chooseWXPay,s(t),t)}},e&&(t.wx=t.jWeixin=M),M)}),PJS.ui.share={},PJS.ui.share=function(t){var e=window.navigator.userAgent.toLowerCase();if("micromessenger"==e.match(/MicroMessenger/i)){var t=t||{},i=t.title||"糯米演出赛事，精彩不容错过！",o=t.desc||"上糯米买演出票，看演唱会、话剧、体育赛事，与明星近距离接触，倾听现场呐喊的声音！",n=t.link||window.location.href,s=window.isHttps?"https://":"http://";s+="gss0.baidu.com/-fo3dSag_xI4khGko9WTAnF6hhy/movie/pic/item/91ef76c6a7efce1b6b976defa851f3deb48f6553.jpg";var r=t.imgUrl||s,a=t.onSuccess||{},c=t.onFail||{},l={};l.url=window.location.href,PJS.http.piaoajax({url:"/yanchu/weixin/config",type:"get",data:l,dataType:"json",success:function(t){!t.errorNo&&t.data&&(wx.config({debug:!1,appId:"wx165901fd5dfa359b",timestamp:t.data.timestamp,nonceStr:t.data.noncestr,signature:t.data.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"]}),wx.ready(function(){wx.onMenuShareTimeline({title:i,link:n,imgUrl:r,success:a,cancel:c}),wx.onMenuShareAppMessage({title:i,desc:o,link:n,imgUrl:r,success:a,cancel:c})}))},error:function(){}})}},PJS.ui.loading={},PJS.ui.showLoadingPage=function(t){var e,i;if(e=PJS.ui.loading.layer?PJS.ui.loading.layer:new PJS.ui.Layer({opacity:1,contentBg:"#fff",maskIndex:8}),PJS.ui.loading.layer=e,e.show(),PJS.ui.loading.loading)i=PJS.ui.loading.loading;else{var o=PJS.ui.Dialog;i=new o({opacity:0,maskIndex:9,isScreenClickHide:!1,height:"100%",width:"100%",contentBg:"#fff",isAutoShow:!1,html:'<div class="yc-ui-loading">'+(t||"努力加载中...")+"</div>"})}PJS.ui.loading.loading=i,i.show()},PJS.ui.hideLoadingPage=function(){var t=$(".mod-dialog-frame"),e=$(".mod-layer-screen"),i=PJS.ui.loading.loading,o=PJS.ui.loading.layer;i&&t.length>0&&t.find(".yc-ui-loading").length>0&&i.hide(),o&&e.length>0&&o.hide()},PJS.ui.showErrorPage=function(t,e,i){var o,n,i=i||100;o=PJS.ui.loading.layerError?PJS.ui.loading.layerError:new PJS.ui.Layer({opacity:1,contentBg:"#f6f6f6",maskIndex:i}),PJS.ui.loading.layerError=o;var s=["网络不给力，小糯好捉急！","获取失败","抱歉，暂无相关演出","真可惜，暂时没有订单哦！","啊哦...您的收藏夹空空如也"],r=t||1,a=e||s[r-1]||"";o.show();var c='<div class="yc-ui-error type'+r+'"><p>'+a+(1==r?'</p><a href="javascript:;" class="reload">重试</a></div>':"");if(PJS.ui.loading.loadingError)n=PJS.ui.loading.loadingError;else{var l=PJS.ui.Dialog;n=new l({opacity:0,maskIndex:i+1,isScreenClickHide:!1,height:"100%",width:"100%",contentBg:"#f6f6f6",html:c,isAutoShow:!1})}PJS.ui.loading.loadingError=n;var h=n.getElement();h.find(".reload").click(function(){window.location.reload()}),n.show()},PJS.ui.hideErrorPage=function(){var t=$(".mod-dialog-frame"),e=$(".mod-layer-screen"),i=PJS.ui.loading.loadingError,o=PJS.ui.loading.layerError;i&&t.length>0&&t.find(".yc-ui-error").length>0&&i.hide(),o&&e.length>0&&o.hide()};